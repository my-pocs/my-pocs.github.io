<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="710px" preserveAspectRatio="none" style="width:1491px;height:710px;background:#FFFFFF;" version="1.1" viewBox="0 0 1491 710" width="1491px" zoomAndPan="magnify"><defs><filter height="300%" id="f115qj6a1wkbsd" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="472" x="507.75" y="28.708">Діаграма послідовності розгортання платформи</text><rect fill="#FFFFFF" filter="url(#f115qj6a1wkbsd)" height="191.9297" style="stroke:#000000;stroke-width:2.0;" width="764.5" x="10" y="140.25"/><rect fill="#FFFFFF" filter="url(#f115qj6a1wkbsd)" height="263.1953" style="stroke:#000000;stroke-width:2.0;" width="1467.5" x="10" y="346.1797"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="120" x2="120" y1="123.25" y2="626.375"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="487.5" x2="487.5" y1="123.25" y2="626.375"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="667.5" x2="667.5" y1="123.25" y2="626.375"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="823.5" x2="823.5" y1="123.25" y2="626.375"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1266.5" x2="1266.5" y1="123.25" y2="626.375"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1377.5" x2="1377.5" y1="123.25" y2="626.375"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1440.5" x2="1440.5" y1="123.25" y2="626.375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="194" x="20" y="119.9482">Адміністратор платформи</text><ellipse cx="120" cy="49.9531" fill="#FEFECE" filter="url(#f115qj6a1wkbsd)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M120,57.9531 L120,84.9531 M107,65.9531 L133,65.9531 M120,84.9531 L107,99.9531 M120,84.9531 L133,99.9531 " fill="none" filter="url(#f115qj6a1wkbsd)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="194" x="20" y="638.3701">Адміністратор платформи</text><ellipse cx="120" cy="651.6719" fill="#FEFECE" filter="url(#f115qj6a1wkbsd)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M120,659.6719 L120,686.6719 M107,667.6719 L133,667.6719 M120,686.6719 L107,701.6719 M120,686.6719 L133,701.6719 " fill="none" filter="url(#f115qj6a1wkbsd)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f115qj6a1wkbsd)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="143" x="414.5" y="87.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="421.5" y="107.9482">Сервер інсталяції</text><rect fill="#FEFECE" filter="url(#f115qj6a1wkbsd)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="143" x="414.5" y="625.375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="421.5" y="645.3701">Сервер інсталяції</text><rect fill="#FEFECE" filter="url(#f115qj6a1wkbsd)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="189" x="571.5" y="87.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="578.5" y="107.9482">Контейнер Інсталятора</text><rect fill="#FEFECE" filter="url(#f115qj6a1wkbsd)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="189" x="571.5" y="625.375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="578.5" y="645.3701">Контейнер Інсталятора</text><rect fill="#FEFECE" filter="url(#f115qj6a1wkbsd)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="95" x="774.5" y="87.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="781.5" y="107.9482">Інсталятор</text><rect fill="#FEFECE" filter="url(#f115qj6a1wkbsd)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="95" x="774.5" y="625.375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="781.5" y="645.3701">Інсталятор</text><rect fill="#FEFECE" filter="url(#f115qj6a1wkbsd)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="145" x="1192.5" y="87.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131" x="1199.5" y="107.9482">Openshift кластер</text><rect fill="#FEFECE" filter="url(#f115qj6a1wkbsd)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="145" x="1192.5" y="625.375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131" x="1199.5" y="645.3701">Openshift кластер</text><rect fill="#FEFECE" filter="url(#f115qj6a1wkbsd)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="48" x="1351.5" y="87.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="34" x="1358.5" y="107.9482">Vault</text><rect fill="#FEFECE" filter="url(#f115qj6a1wkbsd)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="48" x="1351.5" y="625.375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="34" x="1358.5" y="645.3701">Vault</text><rect fill="#FEFECE" filter="url(#f115qj6a1wkbsd)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="50" x="1413.5" y="87.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="1420.5" y="107.9482">Minio</text><rect fill="#FEFECE" filter="url(#f115qj6a1wkbsd)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="50" x="1413.5" y="625.375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="1420.5" y="645.3701">Minio</text><path d="M10,140.25 L363,140.25 L363,147.25 L353,157.25 L10,157.25 L10,140.25 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="191.9297" style="stroke:#000000;stroke-width:2.0;" width="764.5" x="10" y="140.25"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="308" x="25" y="153.3169">Підготовка Інсталятора до розгортання</text><polygon fill="#A80036" points="476,174.5156,486,178.5156,476,182.5156,480,178.5156" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="120" x2="482" y1="178.5156" y2="178.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="127" y="173.4497">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="235" x="140" y="173.4497">Завантаження архіву Інсталятора</text><polygon fill="#A80036" points="476,203.6484,486,207.6484,476,211.6484,480,207.6484" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="120" x2="482" y1="207.6484" y2="207.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="127" y="202.5825">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="331" x="140" y="202.5825">Завантаження сертифікатів digital-signature-ops</text><polygon fill="#A80036" points="476,232.7813,486,236.7813,476,240.7813,480,236.7813" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="120" x2="482" y1="236.7813" y2="236.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="127" y="231.7153">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="311" x="140" y="231.7153">Перевірка готовності сервера (пререквізити)</text><polygon fill="#A80036" points="656,261.9141,666,265.9141,656,269.9141,660,265.9141" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="120" x2="662" y1="265.9141" y2="265.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="127" y="260.8481">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="198" x="140" y="260.8481">Автентифікація в Опеншифт</text><polygon fill="#A80036" points="656,291.0469,666,295.0469,656,299.0469,660,295.0469" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="120" x2="662" y1="295.0469" y2="295.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="127" y="289.981">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="215" x="140" y="289.981">Встановлення параметрів (env)</text><polygon fill="#A80036" points="656,320.1797,666,324.1797,656,328.1797,660,324.1797" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="120" x2="662" y1="324.1797" y2="324.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="127" y="319.1138">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205" x="140" y="319.1138">Запуск Інсталера (install.sh -u)</text><path d="M10,346.1797 L246,346.1797 L246,353.1797 L236,363.1797 L10,363.1797 L10,346.1797 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="263.1953" style="stroke:#000000;stroke-width:2.0;" width="1467.5" x="10" y="346.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="191" x="25" y="359.2466">Розгортання Платформи</text><line style="stroke:#A80036;stroke-width:1.0;" x1="824" x2="866" y1="384.4453" y2="384.4453"/><line style="stroke:#A80036;stroke-width:1.0;" x1="866" x2="866" y1="384.4453" y2="397.4453"/><line style="stroke:#A80036;stroke-width:1.0;" x1="825" x2="866" y1="397.4453" y2="397.4453"/><polygon fill="#A80036" points="835,393.4453,825,397.4453,835,401.4453,831,397.4453" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="831" y="379.3794">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="204" x="844" y="379.3794">Перевірка вхідних параметрів</text><polygon fill="#A80036" points="1365.5,422.5781,1375.5,426.5781,1365.5,430.5781,1369.5,426.5781" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="824" x2="1371.5" y1="426.5781" y2="426.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="831" y="421.5122">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="844" y="421.5122">Оновлення стану Vault</text><polygon fill="#A80036" points="1428.5,451.7109,1438.5,455.7109,1428.5,459.7109,1432.5,455.7109" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="824" x2="1434.5" y1="455.7109" y2="455.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="831" y="450.645">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="844" y="450.645">Оновлення стану Minio</text><polygon fill="#A80036" points="1255,480.8438,1265,484.8438,1255,488.8438,1259,484.8438" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="824" x2="1261" y1="484.8438" y2="484.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="831" y="479.7778">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="397" x="853" y="479.7778">Завантаження докер образів в nexus (control-plane-nexus)</text><polygon fill="#A80036" points="1255,509.9766,1265,513.9766,1255,517.9766,1259,513.9766" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="824" x2="1261" y1="513.9766" y2="513.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="831" y="508.9106">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="853" y="508.9106">Розгортання Control Plane</text><polygon fill="#A80036" points="1255,539.1094,1265,543.1094,1255,547.1094,1259,543.1094" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="824" x2="1261" y1="543.1094" y2="543.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="831" y="538.0435">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="323" x="853" y="538.0435">Завантаження xsd в nexus (control-plane-nexus)</text><polygon fill="#A80036" points="1255,568.2422,1265,572.2422,1255,576.2422,1259,572.2422" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="824" x2="1261" y1="572.2422" y2="572.2422"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="831" y="567.1763">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="292" x="853" y="567.1763">Завантаження параметрів доступу в Minio</text><polygon fill="#A80036" points="476,597.375,486,601.375,476,605.375,480,601.375" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="120" x2="482" y1="601.375" y2="601.375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="127" y="596.3091">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="287" x="149" y="596.3091">Перевірка логу та коректності оновлення</text><!--MD5=[3f35d6253985124cc7a1537422c99159]
@startuml
actor "Адміністратор платформи" as devops order 10
participant "Сервер інсталяції" as jumpbox  order 30
participant "Контейнер Інсталятора" as docker_load  order 35
participant "Інсталятор" as install.sh  order 40
participant "Openshift кластер" as openshift  order 45
participant "Vault" as vault  order 50
participant "Minio" as minio  order 55

autonumber

title Діаграма послідовності розгортання платформи

group Підготовка Інсталятора до розгортання
devops -> jumpbox: Завантаження архіву Інсталятора
devops -> jumpbox: Завантаження сертифікатів digital-signature-ops
devops -> jumpbox: Перевірка готовності сервера (пререквізити)
devops -> docker_load: Автентифікація в Опеншифт
devops -> docker_load: Встановлення параметрів (env)
devops -> docker_load: Запуск Інсталера (install.sh -u)
end

group Розгортання Платформи
install.sh -> install.sh: Перевірка вхідних параметрів
install.sh -> vault: Оновлення стану Vault
install.sh -> minio: Оновлення стану Minio
install.sh -> openshift: Завантаження докер образів в nexus (control-plane-nexus)
install.sh -> openshift: Розгортання Control Plane
install.sh -> openshift: Завантаження xsd в nexus (control-plane-nexus)
install.sh -> openshift: Завантаження параметрів доступу в Minio
devops -> jumpbox: Перевірка логу та коректності оновлення
end
@enduml

PlantUML version 1.2021.7(Sun May 23 12:40:07 UTC 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>