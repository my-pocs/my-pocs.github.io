<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1023px" preserveAspectRatio="none" style="width:1169px;height:1023px;background:#FFFFFF;" version="1.1" viewBox="0 0 1169 1023" width="1169px" zoomAndPan="magnify"><defs><filter height="300%" id="f1g79o6fm866s7" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1g79o6fm866s7)" height="881.4609" style="stroke:#A80036;stroke-width:1.0;" width="10" x="110" y="56.2969"/><rect fill="#FFFFFF" filter="url(#f1g79o6fm866s7)" height="109.2031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="497" y="85.4297"/><rect fill="#FFFFFF" filter="url(#f1g79o6fm866s7)" height="12" style="stroke:#A80036;stroke-width:1.0;" width="10" x="497" y="240.8984"/><rect fill="#FFFFFF" filter="url(#f1g79o6fm866s7)" height="355.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="497" y="299.1641"/><rect fill="#FFFFFF" filter="url(#f1g79o6fm866s7)" height="12" style="stroke:#A80036;stroke-width:1.0;" width="10" x="497" y="896.625"/><rect fill="#FFFFFF" filter="url(#f1g79o6fm866s7)" height="12" style="stroke:#A80036;stroke-width:1.0;" width="10" x="713.5" y="381.5625"/><rect fill="#FFFFFF" filter="url(#f1g79o6fm866s7)" height="12" style="stroke:#A80036;stroke-width:1.0;" width="10" x="713.5" y="498.0938"/><rect fill="#FFFFFF" filter="url(#f1g79o6fm866s7)" height="12" style="stroke:#A80036;stroke-width:1.0;" width="10" x="713.5" y="707.6953"/><rect fill="#FFFFFF" filter="url(#f1g79o6fm866s7)" height="12" style="stroke:#A80036;stroke-width:1.0;" width="10" x="891" y="439.8281"/><rect fill="#FFFFFF" filter="url(#f1g79o6fm866s7)" height="12" style="stroke:#A80036;stroke-width:1.0;" width="10" x="996.5" y="556.3594"/><rect fill="#FFFFFF" filter="url(#f1g79o6fm866s7)" height="12" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1087" y="765.9609"/><rect fill="#FFFFFF" filter="url(#f1g79o6fm866s7)" height="862.4609" style="stroke:#000000;stroke-width:2.0;" width="1145" x="10" y="100.4297"/><rect fill="#FFFFFF" height="787.0625" style="stroke:none;stroke-width:1.0;" width="1145" x="10" y="175.8281"/><rect fill="#FFFFFF" filter="url(#f1g79o6fm866s7)" height="365.3984" style="stroke:#000000;stroke-width:2.0;" width="1019" x="20" y="314.1641"/><rect fill="#FFFFFF" height="43.9375" style="stroke:none;stroke-width:1.0;" width="1019" x="20" y="635.625"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="115" x2="115" y1="40.2969" y2="979.8906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="502" x2="502" y1="40.2969" y2="979.8906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="718" x2="718" y1="40.2969" y2="979.8906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="896" x2="896" y1="40.2969" y2="979.8906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1001" x2="1001" y1="40.2969" y2="979.8906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1092" x2="1092" y1="40.2969" y2="979.8906"/><rect fill="#FEFECE" filter="url(#f1g79o6fm866s7)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="166" x="30" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152" x="37" y="24.9951">completer(&lt;task_id&gt;)</text><rect fill="#FEFECE" filter="url(#f1g79o6fm866s7)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="166" x="30" y="978.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152" x="37" y="998.8857">completer(&lt;task_id&gt;)</text><rect fill="#FEFECE" filter="url(#f1g79o6fm866s7)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="210" x="395" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="196" x="402" y="24.9951">Camunda Execution Context</text><rect fill="#FEFECE" filter="url(#f1g79o6fm866s7)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="210" x="395" y="978.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="196" x="402" y="998.8857">Camunda Execution Context</text><rect fill="#FEFECE" filter="url(#f1g79o6fm866s7)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="195" x="619" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="181" x="626" y="24.9951">Spring Application Context</text><rect fill="#FEFECE" filter="url(#f1g79o6fm866s7)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="195" x="619" y="978.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="181" x="626" y="998.8857">Spring Application Context</text><rect fill="#FEFECE" filter="url(#f1g79o6fm866s7)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="132" x="828" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="835" y="24.9951">CephKeyProvider</text><rect fill="#FEFECE" filter="url(#f1g79o6fm866s7)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="132" x="828" y="978.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="835" y="998.8857">CephKeyProvider</text><rect fill="#FEFECE" filter="url(#f1g79o6fm866s7)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="51" x="974" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="981" y="24.9951">Ceph</text><rect fill="#FEFECE" filter="url(#f1g79o6fm866s7)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="51" x="974" y="978.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="981" y="998.8857">Ceph</text><rect fill="#FEFECE" filter="url(#f1g79o6fm866s7)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="102" x="1039" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="1046" y="24.9951">TokenParser</text><rect fill="#FEFECE" filter="url(#f1g79o6fm866s7)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="102" x="1039" y="978.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="1046" y="998.8857">TokenParser</text><rect fill="#FFFFFF" filter="url(#f1g79o6fm866s7)" height="881.4609" style="stroke:#A80036;stroke-width:1.0;" width="10" x="110" y="56.2969"/><rect fill="#FFFFFF" filter="url(#f1g79o6fm866s7)" height="109.2031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="497" y="85.4297"/><rect fill="#FFFFFF" filter="url(#f1g79o6fm866s7)" height="12" style="stroke:#A80036;stroke-width:1.0;" width="10" x="497" y="240.8984"/><rect fill="#FFFFFF" filter="url(#f1g79o6fm866s7)" height="355.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="497" y="299.1641"/><rect fill="#FFFFFF" filter="url(#f1g79o6fm866s7)" height="12" style="stroke:#A80036;stroke-width:1.0;" width="10" x="497" y="896.625"/><rect fill="#FFFFFF" filter="url(#f1g79o6fm866s7)" height="12" style="stroke:#A80036;stroke-width:1.0;" width="10" x="713.5" y="381.5625"/><rect fill="#FFFFFF" filter="url(#f1g79o6fm866s7)" height="12" style="stroke:#A80036;stroke-width:1.0;" width="10" x="713.5" y="498.0938"/><rect fill="#FFFFFF" filter="url(#f1g79o6fm866s7)" height="12" style="stroke:#A80036;stroke-width:1.0;" width="10" x="713.5" y="707.6953"/><rect fill="#FFFFFF" filter="url(#f1g79o6fm866s7)" height="12" style="stroke:#A80036;stroke-width:1.0;" width="10" x="891" y="439.8281"/><rect fill="#FFFFFF" filter="url(#f1g79o6fm866s7)" height="12" style="stroke:#A80036;stroke-width:1.0;" width="10" x="996.5" y="556.3594"/><rect fill="#FFFFFF" filter="url(#f1g79o6fm866s7)" height="12" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1087" y="765.9609"/><polygon fill="#A80036" points="98,52.2969,108,56.2969,98,60.2969,102,56.2969" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="0" x2="104" y1="56.2969" y2="56.2969"/><polygon fill="#A80036" points="485,81.4297,495,85.4297,485,89.4297,489,85.4297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="120" x2="491" y1="85.4297" y2="85.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="318" x="127" y="80.3638">Отримати існуючий UserDto об'єкт комплітера</text><path d="M10,100.4297 L74,100.4297 L74,107.4297 L64,117.4297 L10,117.4297 L10,100.4297 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="862.4609" style="stroke:#000000;stroke-width:2.0;" width="1145" x="10" y="100.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="25" y="113.4966">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="196" x="89" y="112.6401">[Об'єкт комплітера знайдено]</text><polygon fill="#A80036" points="131,117.5625,121,121.5625,131,125.5625,127,121.5625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="125" x2="496" y1="121.5625" y2="121.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260" x="137" y="134.6294">Знайдений UserDto об'єкт комплітера</text><polygon fill="#A80036" points="11,146.6953,1,150.6953,11,154.6953,7,150.6953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="5" x2="109" y1="150.6953" y2="150.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="17" y="163.7622">UserDto</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="1155" y1="176.8281" y2="176.8281"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="216" x="15" y="187.0386">[Об'єкт комплітера не знайдено]</text><polygon fill="#A80036" points="131,190.6328,121,194.6328,131,198.6328,127,194.6328" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="125" x2="501" y1="194.6328" y2="194.6328"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="22" x="137" y="207.6997">null</text><polygon fill="#A80036" points="485,236.8984,495,240.8984,485,244.8984,489,240.8984" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="120" x2="491" y1="240.8984" y2="240.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="321" x="127" y="235.8325">Отримати ім'я комплітера з відповідної змінної</text><polygon fill="#A80036" points="131,248.8984,121,252.8984,131,256.8984,127,252.8984" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="125" x2="501" y1="252.8984" y2="252.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="137" y="265.9653">Ім'я комплітера</text><polygon fill="#A80036" points="485,295.1641,495,299.1641,485,303.1641,489,299.1641" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="120" x2="491" y1="299.1641" y2="299.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="339" x="127" y="294.0981">Отримати токен комплітера з відповідної змінної</text><path d="M20,314.1641 L84,314.1641 L84,321.1641 L74,331.1641 L20,331.1641 L20,314.1641 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="365.3984" style="stroke:#000000;stroke-width:2.0;" width="1019" x="20" y="314.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="35" y="327.231">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="345" x="99" y="326.3745">[Токен комплітера не наявний у Camunda контексті]</text><polygon fill="#A80036" points="131,331.2969,121,335.2969,131,339.2969,127,335.2969" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="125" x2="496" y1="335.2969" y2="335.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="22" x="137" y="348.3638">null</text><polygon fill="#A80036" points="701.5,377.5625,711.5,381.5625,701.5,385.5625,705.5,381.5625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="120" x2="707.5" y1="381.5625" y2="381.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="240" x="127" y="376.4966">Отримати бін типу CephKeyProvider</text><polygon fill="#A80036" points="131,389.5625,121,393.5625,131,397.5625,127,393.5625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="125" x2="717.5" y1="393.5625" y2="393.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168" x="137" y="406.6294">Бін типу CephKeyProvider</text><polygon fill="#A80036" points="879,435.8281,889,439.8281,879,443.8281,883,439.8281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="120" x2="885" y1="439.8281" y2="439.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159" x="127" y="434.7622">Згенерувати цеф ключ</text><polygon fill="#A80036" points="131,447.8281,121,451.8281,131,455.8281,127,451.8281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="125" x2="895" y1="451.8281" y2="451.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167" x="137" y="464.895">Згенерований цеф ключ</text><polygon fill="#A80036" points="701.5,494.0938,711.5,498.0938,701.5,502.0938,705.5,498.0938" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="120" x2="707.5" y1="498.0938" y2="498.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="276" x="127" y="493.0278">Отримати бін типу FormDataCephService</text><polygon fill="#A80036" points="131,506.0938,121,510.0938,131,514.0938,127,510.0938" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="125" x2="717.5" y1="510.0938" y2="510.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="204" x="137" y="523.1606">Бін типу FormDataCephService</text><polygon fill="#A80036" points="984.5,552.3594,994.5,556.3594,984.5,560.3594,988.5,556.3594" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="120" x2="990.5" y1="556.3594" y2="556.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="619" x="127" y="551.2935">Отримати цеф документ, який містить токен комплітера з цефу за згенерованим ключем</text><polygon fill="#A80036" points="131,564.3594,121,568.3594,131,572.3594,127,568.3594" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="125" x2="1000.5" y1="568.3594" y2="568.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="323" x="137" y="581.4263">Цеф документ, який містить токен комплітера</text><line style="stroke:#A80036;stroke-width:1.0;" x1="120" x2="162" y1="614.625" y2="614.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="162" x2="162" y1="614.625" y2="627.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="121" x2="162" y1="627.625" y2="627.625"/><polygon fill="#A80036" points="131,623.625,121,627.625,131,631.625,127,627.625" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="236" x="127" y="609.5591">Отримати токен з цеф документа</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="20" x2="1039" y1="636.625" y2="636.625"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="325" x="25" y="646.8354">[Токен комплітера наявний у Camunda контексті]</text><polygon fill="#A80036" points="131,650.4297,121,654.4297,131,658.4297,127,654.4297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="125" x2="501" y1="654.4297" y2="654.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="137" y="667.4966">Токен комплітера</text><polygon fill="#A80036" points="701.5,703.6953,711.5,707.6953,701.5,711.6953,705.5,707.6953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="120" x2="707.5" y1="707.6953" y2="707.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="211" x="127" y="702.6294">Отримати бін типу TokenParser</text><polygon fill="#A80036" points="131,715.6953,121,719.6953,131,723.6953,127,719.6953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="125" x2="717.5" y1="719.6953" y2="719.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="137" y="732.7622">Бін типу TokenParser</text><polygon fill="#A80036" points="1075,761.9609,1085,765.9609,1075,769.9609,1079,765.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="120" x2="1081" y1="765.9609" y2="765.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="350" x="127" y="760.895">Розпарсити токен комплітера у об'єкт JwtClaimsDto</text><polygon fill="#A80036" points="131,773.9609,121,777.9609,131,781.9609,127,777.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="125" x2="1091" y1="777.9609" y2="777.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="137" y="791.0278">Згенерований JwtClaimsDto</text><line style="stroke:#A80036;stroke-width:1.0;" x1="120" x2="162" y1="839.3594" y2="839.3594"/><line style="stroke:#A80036;stroke-width:1.0;" x1="162" x2="162" y1="839.3594" y2="852.3594"/><line style="stroke:#A80036;stroke-width:1.0;" x1="121" x2="162" y1="852.3594" y2="852.3594"/><polygon fill="#A80036" points="131,848.3594,121,852.3594,131,856.3594,127,852.3594" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="249" x="127" y="819.1606">Збудувати UserDto використовуючи</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="359" x="131" y="834.2935">ім'я та токен комплітера, згенерований JwtClaimsDto</text><polygon fill="#A80036" points="485,892.625,495,896.625,485,900.625,489,896.625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="120" x2="491" y1="896.625" y2="896.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="289" x="127" y="876.4263">Зберегти збудований UserDto у контексті</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166" x="127" y="891.5591">у якості transient змінної</text><polygon fill="#A80036" points="131,904.625,121,908.625,131,912.625,127,908.625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="125" x2="501" y1="908.625" y2="908.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="137" y="921.6919">Збережено</text><polygon fill="#A80036" points="11,933.7578,1,937.7578,11,941.7578,7,937.7578" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="5" x2="114" y1="937.7578" y2="937.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="17" y="950.8247">UserDto</text><!--MD5=[beea0ed52026e3726aacadc9866f4f13]
@startuml
skinparam responseMessageBelowArrow true

  participant "completer(<task_id>)" as completer order 10
  participant "Camunda Execution Context" as camunda order 20
  participant "Spring Application Context" as spring order 30
  participant "CephKeyProvider" as ceph_key_provider order 40
  participant "Ceph" as ceph order 50
  participant "TokenParser" as parser order 60

  -> completer
  activate completer

  completer -> camunda : Отримати існуючий UserDto об'єкт комплітера
  activate camunda

  alt Об'єкт комплітера знайдено
    completer <- - camunda : Знайдений UserDto об'єкт комплітера
    <- - completer : UserDto

  else Об'єкт комплітера не знайдено
    completer <- - camunda : null
    deactivate camunda

  completer -> camunda : Отримати ім'я комплітера з відповідної змінної
    activate camunda

    completer <- - camunda : Ім'я комплітера
    deactivate camunda

  completer -> camunda : Отримати токен комплітера з відповідної змінної
    activate camunda
    alt Токен комплітера не наявний у Camunda контексті
      completer <- - camunda : null
      completer -> spring : Отримати бін типу CephKeyProvider
        activate spring

      completer <- - spring : Бін типу CephKeyProvider
        deactivate spring

      completer -> ceph_key_provider : Згенерувати цеф ключ
        activate ceph_key_provider

      completer <- - ceph_key_provider : Згенерований цеф ключ
        deactivate ceph_key_provider

      completer -> spring : Отримати бін типу FormDataCephService
        activate spring

      completer <- - spring : Бін типу FormDataCephService
      deactivate spring

      completer -> ceph : Отримати цеф документ, який містить токен комплітера з цефу за згенерованим ключем
      activate ceph

      completer <- - ceph : Цеф документ, який містить токен комплітера
      deactivate ceph

      completer -> completer : Отримати токен з цеф документа

    else Токен комплітера наявний у Camunda контексті
      completer <- - camunda : Токен комплітера
      deactivate camunda
    end

  completer -> spring : Отримати бін типу TokenParser
      activate spring

      completer <- - spring : Бін типу TokenParser
      deactivate spring

      completer -> parser : Розпарсити токен комплітера у об'єкт JwtClaimsDto
      activate parser

      completer <- - parser : Згенерований JwtClaimsDto
      deactivate parser

  completer -> completer : Збудувати UserDto використовуючи \n ім'я та токен комплітера, згенерований JwtClaimsDto

  completer -> camunda : Зберегти збудований UserDto у контексті \nу якості transient змінної
    activate camunda

    completer <- - camunda : Збережено
    deactivate camunda

    <- - completer : UserDto
    deactivate completer
  end
@enduml

PlantUML version 1.2021.7(Sun May 23 12:40:07 UTC 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>