<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="504px" preserveAspectRatio="none" style="width:1179px;height:504px;background:#FFFFFF;" version="1.1" viewBox="0 0 1179 504" width="1179px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="284.1328" style="stroke:#2688D4;stroke-width:1.0;" width="10" x="80" y="109.8906"/><rect fill="#FFFFFF" height="152.4688" style="stroke:#000000;stroke-width:2.0;" width="1162" x="10" y="234.5547"/><rect fill="#FFFFFF" height="106.2031" style="stroke:none;stroke-width:1.0;" width="1162" x="10" y="280.8203"/><rect fill="#FFFFFF" height="19.1328" style="stroke:#000000;stroke-width:2.0;" width="243" x="30" y="360.8906"/><rect fill="#FFFFFF" height="2" style="stroke:none;stroke-width:1.0;" width="243" x="30" y="378.0234"/><line style="stroke:#2688D4;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="85" x2="85" y1="99.8906" y2="404.0234"/><line style="stroke:#2688D4;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="366.5" x2="366.5" y1="99.8906" y2="404.0234"/><line style="stroke:#2688D4;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="925" x2="925" y1="99.8906" y2="404.0234"/><line style="stroke:#2688D4;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1089" x2="1089" y1="99.8906" y2="404.0234"/><rect fill="#FFFFFF" height="46.5938" style="stroke:#2688D4;stroke-width:1.5;" width="130" x="20" y="52.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="65" y="72.292">Kong</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="27" y="88.5889">API Management</text><rect fill="#FFFFFF" height="46.5938" style="stroke:#2688D4;stroke-width:1.5;" width="130" x="20" y="403.0234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="65" y="423.0186">Kong</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="27" y="439.3154">API Management</text><rect fill="#FFFFFF" height="62.8906" style="stroke:#2688D4;stroke-width:1.5;" width="141" x="296.5" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="341.5" y="55.9951">Сервіс</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="303.5" y="72.292">постачання схем</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59" x="337.5" y="88.5889">UI-форм</text><rect fill="#FFFFFF" height="62.8906" style="stroke:#2688D4;stroke-width:1.5;" width="141" x="296.5" y="403.0234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="341.5" y="423.0186">Сервіс</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="303.5" y="439.3154">постачання схем</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59" x="337.5" y="455.6123">UI-форм</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="902.5" y="63.9951">Redis</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141" x="849.5" y="80.292">in-memory сховище</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="156" x="844" y="96.5889">(bpm-form-schemas.*)</text><path d="M907,15 C907,5 925,5 925,5 C925,5 943,5 943,15 L943,41 C943,51 925,51 925,51 C925,51 907,51 907,41 L907,15 " fill="#FFFFFF" style="stroke:#2688D4;stroke-width:1.5;"/><path d="M907,15 C907,25 925,25 925,25 C925,25 943,25 943,15 " fill="none" style="stroke:#2688D4;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="902.5" y="416.0186">Redis</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141" x="849.5" y="432.3154">in-memory сховище</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="156" x="844" y="448.6123">(bpm-form-schemas.*)</text><path d="M907,461.9141 C907,451.9141 925,451.9141 925,451.9141 C925,451.9141 943,451.9141 943,461.9141 L943,487.9141 C943,497.9141 925,497.9141 925,497.9141 C925,497.9141 907,497.9141 907,487.9141 L907,461.9141 " fill="#FFFFFF" style="stroke:#2688D4;stroke-width:1.5;"/><path d="M907,461.9141 C907,471.9141 925,471.9141 925,471.9141 C925,471.9141 943,471.9141 943,461.9141 " fill="none" style="stroke:#2688D4;stroke-width:1.5;"/><rect fill="#FFFFFF" height="46.5938" style="stroke:#2688D4;stroke-width:1.5;" width="146" x="1016" y="52.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="1023" y="72.292">Сервіс виконання</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="1031" y="88.5889">бізнес-процесів</text><rect fill="#FFFFFF" height="46.5938" style="stroke:#2688D4;stroke-width:1.5;" width="146" x="1016" y="403.0234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="1023" y="423.0186">Сервіс виконання</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="1031" y="439.3154">бізнес-процесів</text><rect fill="#FFFFFF" height="284.1328" style="stroke:#2688D4;stroke-width:1.0;" width="10" x="80" y="109.8906"/><polygon fill="#2688D4" points="355,142.1563,365,146.1563,355,150.1563,359,146.1563" style="stroke:#2688D4;stroke-width:1.0;"/><line style="stroke:#2688D4;stroke-width:1.0;" x1="90" x2="361" y1="146.1563" y2="146.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="249" x="97" y="125.9575">Запит на отримання схеми UI-форми</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216" x="97" y="141.0903">&lt;process-definition-id, form-key&gt;</text><polygon fill="#2688D4" points="913,186.4219,923,190.4219,913,194.4219,917,190.4219" style="stroke:#2688D4;stroke-width:1.0;"/><line style="stroke:#2688D4;stroke-width:1.0;" x1="367" x2="919" y1="190.4219" y2="190.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="249" x="374" y="170.2231">Отримання запису за ключем з кешу</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="534" x="374" y="185.356">&lt;bpm-form-schemas:process-definition/${process-definition-id}/form/{form-key}&gt;</text><polygon fill="#2688D4" points="378,215.5547,368,219.5547,378,223.5547,374,219.5547" style="stroke:#2688D4;stroke-width:1.0;"/><line style="stroke:#2688D4;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="372" x2="924" y1="219.5547" y2="219.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="243" x="384" y="214.4888">Закешований запис схеми UI-форми</text><path d="M10,234.5547 L74,234.5547 L74,241.5547 L64,251.5547 L10,251.5547 L10,234.5547 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="152.4688" style="stroke:#000000;stroke-width:2.0;" width="1162" x="10" y="234.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="25" y="247.6216">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="205" x="89" y="246.7651">[Запис схеми у кеші знайдено]</text><polygon fill="#2688D4" points="101,268.8203,91,272.8203,101,276.8203,97,272.8203" style="stroke:#2688D4;stroke-width:1.0;"/><line style="stroke:#2688D4;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="95" x2="366" y1="272.8203" y2="272.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="107" y="267.7544">Запис схеми UI-форми</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="1172" y1="281.8203" y2="281.8203"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="225" x="15" y="292.0308">[Запис схеми у кеші не знайдено]</text><polygon fill="#2688D4" points="1077,312.7578,1087,316.7578,1077,320.7578,1081,316.7578" style="stroke:#2688D4;stroke-width:1.0;"/><line style="stroke:#2688D4;stroke-width:1.0;" x1="367" x2="1083" y1="316.7578" y2="316.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="376" x="374" y="311.6919">Отримання даних ресурсу схеми UI-форми (deployment)</text><polygon fill="#2688D4" points="378,341.8906,368,345.8906,378,349.8906,374,345.8906" style="stroke:#2688D4;stroke-width:1.0;"/><line style="stroke:#2688D4;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="372" x2="1088" y1="345.8906" y2="345.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73" x="384" y="340.8247">Дані схеми</text><path d="M30,360.8906 L94,360.8906 L94,367.8906 L84,377.8906 L30,377.8906 L30,360.8906 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="19.1328" style="stroke:#000000;stroke-width:2.0;" width="243" x="30" y="360.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="45" y="373.9575">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="159" x="109" y="373.1011">[Запис схеми знайдено]</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="30" x2="273" y1="379.0234" y2="379.0234"/><!--MD5=[91b9338867260e4d6e0f224eb2c38c15]
@startuml
skinparam shadowing false
skinparam DatabaseBackgroundColor white
skinparam DatabaseBorderColor #2688d4
skinparam QueueBackgroundColor white
skinparam QueueBorderColor #2688d4
skinparam NoteBackgroundColor white
skinparam NoteBorderColor #2688d4
skinparam sequence {
    ArrowColor #2688d4
    ActorBorderColor #2688d4
    LifeLineBorderColor #2688d4
    ParticipantBorderColor #2688d4
    ParticipantBackgroundColor white
    BoxBorderColor #2688d4
    BoxBackgroundColor white
}

participant "Kong \nAPI Management" as kong
participant "Сервіс \nпостачання схем \nUI-форм" as form_schema_provider
database "Redis\nin-memory сховище \n(bpm-form-schemas.*)" as redis
participant "Сервіс виконання \nбізнес-процесів" as bpms

activate kong
  kong -> form_schema_provider: Запит на отримання схеми UI-форми \n<process-definition-id, form-key>
  form_schema_provider -> redis: Отримання запису за ключем з кешу \n<bpm-form-schemas:process-definition/${process-definition-id}/form/{form-key}>
  redis - -> form_schema_provider: Закешований запис схеми UI-форми
  alt Запис схеми у кеші знайдено
    form_schema_provider - -> kong: Запис схеми UI-форми
  else Запис схеми у кеші не знайдено
    form_schema_provider -> bpms: Отримання даних ресурсу схеми UI-форми (deployment)
    bpms - -> form_schema_provider: Дані схеми
    alt Запис схеми знайдено

    else

    end

  end
deactivate kong
@enduml

PlantUML version 1.2021.7(Sun May 23 12:40:07 UTC 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>