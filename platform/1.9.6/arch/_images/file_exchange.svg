<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1169px" preserveAspectRatio="none" style="width:2700px;height:1169px;background:#FFFFFF;" version="1.1" viewBox="0 0 2700 1169" width="2700px" zoomAndPan="magnify"><defs><filter height="300%" id="f1dl2de1panlbx" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="549" x="1073.25" y="28.708">Обмін файлами при взаємодії Low-code та Дата Фабрики</text><rect fill="#DDDDDD" height="1122.7031" style="stroke:#383838;stroke-width:1.0;" width="1539" x="1" y="40.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="161" x="690" y="53.02">Low-code підсистема</text><rect fill="#DDDDDD" height="1122.7031" style="stroke:#383838;stroke-width:1.0;" width="681.5" x="2013" y="40.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="111" x="2298.25" y="53.02">Дата Фабрика</text><rect fill="#FFFFFF" filter="url(#f1dl2de1panlbx)" height="952.25" style="stroke:#383838;stroke-width:1.0;" width="10" x="89.5" y="121.6797"/><rect fill="#FFFFFF" filter="url(#f1dl2de1panlbx)" height="97.2656" style="stroke:#383838;stroke-width:1.0;" width="10" x="431.5" y="142.8125"/><rect fill="#FFFFFF" filter="url(#f1dl2de1panlbx)" height="772.4531" style="stroke:#383838;stroke-width:1.0;" width="10" x="621.5" y="301.4766"/><rect fill="#FFFFFF" filter="url(#f1dl2de1panlbx)" height="699.0547" style="stroke:#383838;stroke-width:1.0;" width="10" x="858.5" y="374.875"/><rect fill="#FFFFFF" filter="url(#f1dl2de1panlbx)" height="243.0625" style="stroke:#383838;stroke-width:1.0;" width="10" x="2052" y="531.6719"/><rect fill="#FFFFFF" filter="url(#f1dl2de1panlbx)" height="184.6641" style="stroke:#383838;stroke-width:1.0;" width="10" x="2052" y="860.1328"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="94" x2="94" y1="111.6797" y2="1109.0625"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="436.5" x2="436.5" y1="111.6797" y2="1109.0625"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="626.5" x2="626.5" y1="111.6797" y2="1109.0625"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="863.5" x2="863.5" y1="111.6797" y2="1109.0625"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1250" x2="1250" y1="111.6797" y2="1109.0625"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1452" x2="1452" y1="111.6797" y2="1109.0625"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2057" x2="2057" y1="111.6797" y2="1109.0625"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2468.5" x2="2468.5" y1="111.6797" y2="1109.0625"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2624.5" x2="2624.5" y1="111.6797" y2="1109.0625"/><rect fill="#F8F8F8" filter="url(#f1dl2de1panlbx)" height="46.5938" style="stroke:#383838;stroke-width:1.5;" width="175" x="5" y="60.0859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157" x="14" y="80.0811">Клієнтський додаток</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157" x="16" y="96.3779">кабінету користувача</text><rect fill="#F8F8F8" filter="url(#f1dl2de1panlbx)" height="46.5938" style="stroke:#383838;stroke-width:1.5;" width="175" x="5" y="1108.0625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157" x="14" y="1128.0576">Клієнтський додаток</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157" x="16" y="1144.3545">кабінету користувача</text><rect fill="#F8F8F8" filter="url(#f1dl2de1panlbx)" height="46.5938" style="stroke:#383838;stroke-width:1.5;" width="174" x="347.5" y="60.0859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="409" y="80.0811">Сервіс</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="160" x="354.5" y="96.3779">цифрових документів</text><rect fill="#F8F8F8" filter="url(#f1dl2de1panlbx)" height="46.5938" style="stroke:#383838;stroke-width:1.5;" width="174" x="347.5" y="1108.0625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="409" y="1128.0576">Сервіс</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="160" x="354.5" y="1144.3545">цифрових документів</text><rect fill="#F8F8F8" filter="url(#f1dl2de1panlbx)" height="46.5938" style="stroke:#383838;stroke-width:1.5;" width="178" x="535.5" y="60.0859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="557.5" y="80.0811">Сервіс управління</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="164" x="542.5" y="96.3779">задачами користувача</text><rect fill="#F8F8F8" filter="url(#f1dl2de1panlbx)" height="46.5938" style="stroke:#383838;stroke-width:1.5;" width="178" x="535.5" y="1108.0625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="557.5" y="1128.0576">Сервіс управління</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="164" x="542.5" y="1144.3545">задачами користувача</text><rect fill="#F8F8F8" filter="url(#f1dl2de1panlbx)" height="46.5938" style="stroke:#383838;stroke-width:1.5;" width="146" x="788.5" y="60.0859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="795.5" y="80.0811">Сервіс виконання</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="803.5" y="96.3779">бізнес-процесів</text><rect fill="#F8F8F8" filter="url(#f1dl2de1panlbx)" height="46.5938" style="stroke:#383838;stroke-width:1.5;" width="146" x="788.5" y="1108.0625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="795.5" y="1128.0576">Сервіс виконання</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="803.5" y="1144.3545">бізнес-процесів</text><rect fill="#F8F8F8" filter="url(#f1dl2de1panlbx)" height="46.5938" style="stroke:#383838;stroke-width:1.5;" width="211" x="1143" y="60.0859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="1204.5" y="80.0811">Ceph бакет</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="197" x="1150" y="96.3779">(lowcode-form-data-storage)</text><rect fill="#F8F8F8" filter="url(#f1dl2de1panlbx)" height="46.5938" style="stroke:#383838;stroke-width:1.5;" width="211" x="1143" y="1108.0625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="1204.5" y="1128.0576">Ceph бакет</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="197" x="1150" y="1144.3545">(lowcode-form-data-storage)</text><rect fill="#F8F8F8" filter="url(#f1dl2de1panlbx)" height="46.5938" style="stroke:#383838;stroke-width:1.5;" width="164" x="1368" y="60.0859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="1406" y="80.0811">Ceph бакет</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150" x="1375" y="96.3779">(lowcode-file-storage)</text><rect fill="#F8F8F8" filter="url(#f1dl2de1panlbx)" height="46.5938" style="stroke:#383838;stroke-width:1.5;" width="164" x="1368" y="1108.0625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="1406" y="1128.0576">Ceph бакет</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150" x="1375" y="1144.3545">(lowcode-file-storage)</text><rect fill="#F8F8F8" filter="url(#f1dl2de1panlbx)" height="30.2969" style="stroke:#383838;stroke-width:1.5;" width="76" x="2017" y="76.3828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="2024" y="96.3779">REST API</text><rect fill="#F8F8F8" filter="url(#f1dl2de1panlbx)" height="30.2969" style="stroke:#383838;stroke-width:1.5;" width="76" x="2017" y="1108.0625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="2024" y="1128.0576">REST API</text><rect fill="#F8F8F8" filter="url(#f1dl2de1panlbx)" height="46.5938" style="stroke:#383838;stroke-width:1.5;" width="157" x="2388.5" y="60.0859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="2423" y="80.0811">Ceph бакет</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="143" x="2395.5" y="96.3779">(registry-file-storage)</text><rect fill="#F8F8F8" filter="url(#f1dl2de1panlbx)" height="46.5938" style="stroke:#383838;stroke-width:1.5;" width="157" x="2388.5" y="1108.0625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="2423" y="1128.0576">Ceph бакет</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="143" x="2395.5" y="1144.3545">(registry-file-storage)</text><rect fill="#F8F8F8" filter="url(#f1dl2de1panlbx)" height="30.2969" style="stroke:#383838;stroke-width:1.5;" width="127" x="2559.5" y="76.3828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="2566.5" y="96.3779">Сховище даних</text><rect fill="#F8F8F8" filter="url(#f1dl2de1panlbx)" height="30.2969" style="stroke:#383838;stroke-width:1.5;" width="127" x="2559.5" y="1108.0625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="2566.5" y="1128.0576">Сховище даних</text><rect fill="#FFFFFF" filter="url(#f1dl2de1panlbx)" height="952.25" style="stroke:#383838;stroke-width:1.0;" width="10" x="89.5" y="121.6797"/><rect fill="#FFFFFF" filter="url(#f1dl2de1panlbx)" height="97.2656" style="stroke:#383838;stroke-width:1.0;" width="10" x="431.5" y="142.8125"/><rect fill="#FFFFFF" filter="url(#f1dl2de1panlbx)" height="772.4531" style="stroke:#383838;stroke-width:1.0;" width="10" x="621.5" y="301.4766"/><rect fill="#FFFFFF" filter="url(#f1dl2de1panlbx)" height="699.0547" style="stroke:#383838;stroke-width:1.0;" width="10" x="858.5" y="374.875"/><rect fill="#FFFFFF" filter="url(#f1dl2de1panlbx)" height="243.0625" style="stroke:#383838;stroke-width:1.0;" width="10" x="2052" y="531.6719"/><rect fill="#FFFFFF" filter="url(#f1dl2de1panlbx)" height="184.6641" style="stroke:#383838;stroke-width:1.0;" width="10" x="2052" y="860.1328"/><polygon fill="#383838" points="419.5,138.8125,429.5,142.8125,419.5,146.8125,423.5,142.8125" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="99.5" x2="425.5" y1="142.8125" y2="142.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="305" x="106.5" y="137.7466">Завантаження файлів цифрових документів</text><line style="stroke:#383838;stroke-width:1.0;" x1="441.5" x2="483.5" y1="171.9453" y2="171.9453"/><line style="stroke:#383838;stroke-width:1.0;" x1="483.5" x2="483.5" y1="171.9453" y2="184.9453"/><line style="stroke:#383838;stroke-width:1.0;" x1="442.5" x2="483.5" y1="184.9453" y2="184.9453"/><polygon fill="#383838" points="452.5,180.9453,442.5,184.9453,452.5,188.9453,448.5,184.9453" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165" x="448.5" y="166.8794">Генерація SHA256-гешів</text><polygon fill="#383838" points="1440,210.0781,1450,214.0781,1440,218.0781,1444,214.0781" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="441.5" x2="1446" y1="214.0781" y2="214.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="619" x="448.5" y="209.0122">Збереження файлів цифрових документів під ключами &lt;process/{processInstanceId}/{id}&gt;</text><polygon fill="#383838" points="452.5,222.0781,442.5,226.0781,452.5,230.0781,448.5,226.0781" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="446.5" x2="1451" y1="226.0781" y2="226.0781"/><polygon fill="#383838" points="110.5,236.0781,100.5,240.0781,110.5,244.0781,106.5,240.0781" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="104.5" x2="435.5" y1="240.0781" y2="240.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="308" x="116.5" y="253.145">UUID-ідентифікатори та SHA256-геші файлів</text><polygon fill="#383838" points="609.5,297.4766,619.5,301.4766,609.5,305.4766,613.5,301.4766" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="99.5" x2="615.5" y1="301.4766" y2="301.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="304" x="106.5" y="281.2778">Виконання підпису документа даних форми,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="401" x="106.5" y="296.4106">який містить UUID-ідентифікатори та SHA256-геші файлів</text><polygon fill="#383838" points="1238.5,341.7422,1248.5,345.7422,1238.5,349.7422,1242.5,345.7422" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="631.5" x2="1244.5" y1="345.7422" y2="345.7422"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="229" x="638.5" y="325.5435">Зберегти документ даних форми</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="358" x="638.5" y="340.6763">з UUID-ідентифікаторами та SHA256-гешами файлів</text><polygon fill="#383838" points="846.5,370.875,856.5,374.875,846.5,378.875,850.5,374.875" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="631.5" x2="852.5" y1="374.875" y2="374.875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208" x="638.5" y="369.8091">Завершення виконання задачі</text><polygon fill="#383838" points="1238.5,400.0078,1248.5,404.0078,1238.5,408.0078,1242.5,404.0078" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="868.5" x2="1244.5" y1="404.0078" y2="404.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="223" x="875.5" y="398.9419">Зчитати документ даних форми</text><polygon fill="#383838" points="879.5,412.0078,869.5,416.0078,879.5,420.0078,875.5,416.0078" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="873.5" x2="1249.5" y1="416.0078" y2="416.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="885.5" y="429.0747">Документ даних форми</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="358" x="885.5" y="444.2075">з UUID-ідентифікаторами та SHA256-гешами файлів</text><path d="M808,461.2734 L808,486.2734 L2111,486.2734 L2111,471.2734 L2101,461.2734 L808,461.2734 " fill="#EBEBEB" filter="url(#f1dl2de1panlbx)" style="stroke:#383838;stroke-width:1.0;"/><path d="M2101,461.2734 L2101,471.2734 L2111,471.2734 L2101,461.2734 " fill="#EBEBEB" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="378" x="1264.25" y="478.3403">X-Digital-Signature, X-Source-Business-Process-Instance-Id</text><polygon fill="#383838" points="2040,527.6719,2050,531.6719,2040,535.6719,2044,531.6719" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="868.5" x2="2046" y1="531.6719" y2="531.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="321" x="875.5" y="511.4731">Запит на збереження документа даних форми</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="358" x="875.5" y="526.606">з UUID-ідентифікаторами та SHA256-гешами файлів</text><line style="stroke:#383838;stroke-width:1.0;" x1="2062" x2="2104" y1="560.8047" y2="560.8047"/><line style="stroke:#383838;stroke-width:1.0;" x1="2104" x2="2104" y1="560.8047" y2="573.8047"/><line style="stroke:#383838;stroke-width:1.0;" x1="2063" x2="2104" y1="573.8047" y2="573.8047"/><polygon fill="#383838" points="2073,569.8047,2063,573.8047,2073,577.8047,2069,573.8047" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202" x="2069" y="555.7388">Перевірка цифрового підпису</text><polygon fill="#383838" points="1463,581.8047,1453,585.8047,1463,589.8047,1459,585.8047" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="1457" x2="2051" y1="585.8047" y2="585.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="279" x="1469" y="598.8716">Отримання файлів цифрових документів</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="445" x="1469" y="614.0044">за ключами "process/{X-Source-Business-Process-Instance-Id}/UUID</text><polygon fill="#383838" points="2040,628.0703,2050,632.0703,2040,636.0703,2044,632.0703" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1452" x2="2046" y1="632.0703" y2="632.0703"/><line style="stroke:#383838;stroke-width:1.0;" x1="2062" x2="2104" y1="676.3359" y2="676.3359"/><line style="stroke:#383838;stroke-width:1.0;" x1="2104" x2="2104" y1="676.3359" y2="689.3359"/><line style="stroke:#383838;stroke-width:1.0;" x1="2063" x2="2104" y1="689.3359" y2="689.3359"/><polygon fill="#383838" points="2073,685.3359,2063,689.3359,2073,693.3359,2069,689.3359" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="361" x="2069" y="656.1372">Перевірка співпадіння переданої з запитом чек-суми</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="320" x="2069" y="671.27">проти новорозрахованого SHA256-геша файла</text><polygon fill="#383838" points="2457,714.4688,2467,718.4688,2457,722.4688,2461,718.4688" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="2062" x2="2463" y1="718.4688" y2="718.4688"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="322" x="2069" y="713.4028">Збереження файлів за UUID-ідентифікаторами</text><polygon fill="#383838" points="2613,758.7344,2623,762.7344,2613,766.7344,2617,762.7344" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="2062" x2="2619" y1="762.7344" y2="762.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192" x="2069" y="742.5356">Збереження даних сутності</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="358" x="2069" y="757.6685">з UUID-ідентифікаторами та SHA256-гешами файлів</text><polygon fill="#383838" points="879.5,770.7344,869.5,774.7344,879.5,778.7344,875.5,774.7344" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="873.5" x2="2056" y1="774.7344" y2="774.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163" x="885.5" y="787.8013">200 OK, Дані збережено</text><path d="M808,804.8672 L808,829.8672 L2111,829.8672 L2111,814.8672 L2101,804.8672 L808,804.8672 " fill="#EBEBEB" filter="url(#f1dl2de1panlbx)" style="stroke:#383838;stroke-width:1.0;"/><path d="M2101,804.8672 L2101,814.8672 L2111,814.8672 L2101,804.8672 " fill="#EBEBEB" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="250" x="1328.25" y="821.9341">X-Source-Business-Process-Instance-Id</text><polygon fill="#383838" points="2040,856.1328,2050,860.1328,2040,864.1328,2044,860.1328" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="868.5" x2="2046" y1="860.1328" y2="860.1328"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="875.5" y="855.0669">Отримання даних сутності</text><polygon fill="#383838" points="2613,885.2656,2623,889.2656,2613,893.2656,2617,889.2656" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="2062" x2="2619" y1="889.2656" y2="889.2656"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="370" x="2069" y="884.1997">Отримання даних сутності за UUID-ідентифікаторами</text><polygon fill="#383838" points="2073,897.2656,2063,901.2656,2073,905.2656,2069,901.2656" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2067" x2="2624" y1="901.2656" y2="901.2656"/><polygon fill="#383838" points="2457,928.3984,2467,932.3984,2457,936.3984,2461,932.3984" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="2062" x2="2463" y1="932.3984" y2="932.3984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="313" x="2069" y="927.3325">Отримання файлів за UUID-ідентифікаторами</text><polygon fill="#383838" points="2073,940.3984,2063,944.3984,2073,948.3984,2069,944.3984" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2067" x2="2468" y1="944.3984" y2="944.3984"/><line style="stroke:#383838;stroke-width:1.0;" x1="2062" x2="2104" y1="990.6641" y2="990.6641"/><line style="stroke:#383838;stroke-width:1.0;" x1="2104" x2="2104" y1="990.6641" y2="1003.6641"/><line style="stroke:#383838;stroke-width:1.0;" x1="2063" x2="2104" y1="1003.6641" y2="1003.6641"/><polygon fill="#383838" points="2073,999.6641,2063,1003.6641,2073,1007.6641,2069,1003.6641" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="384" x="2069" y="970.4653">Перевірка співпадіння попередньо збереженої чек-суми</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="320" x="2069" y="985.5981">проти новорозрахованого SHA256-геша файла</text><polygon fill="#383838" points="1463,1011.6641,1453,1015.6641,1463,1019.6641,1459,1015.6641" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="1457" x2="2051" y1="1015.6641" y2="1015.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="576" x="1469" y="1028.731">Збереження файлів з ключами "process/{X-Source-Business-Process-Instance-Id}/UUID</text><polygon fill="#383838" points="879.5,1040.7969,869.5,1044.7969,879.5,1048.7969,875.5,1044.7969" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="873.5" x2="2056" y1="1044.7969" y2="1044.7969"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="885.5" y="1057.8638">200 OK, Дані сутності</text><polygon fill="#383838" points="105.5,1069.9297,95.5,1073.9297,105.5,1077.9297,101.5,1073.9297" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="99.5" x2="862.5" y1="1073.9297" y2="1073.9297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159" x="111.5" y="1086.9966">Повернення управління</text><!--MD5=[7de9bac8958db77663313aee87b3bb52]
@startuml
skinparam monochrome true
skinparam responseMessageBelowArrow true

box Low-code підсистема
  participant "Клієнтський додаток\n кабінету користувача" as cabinet
  participant "Сервіс \nцифрових документів" as digital_documents
  participant "Сервіс управління \nзадачами користувача" as user_task_mngmnt
  participant "Сервіс виконання \nбізнес-процесів" as bpms
  participant "Ceph бакет \n(lowcode-form-data-storage)" as lowcode_form_data_ceph
  participant "Ceph бакет \n(lowcode-file-storage)" as lowcode_file_ceph
end box

box Дата Фабрика
  participant "REST API" as data_factory
  participant "Ceph бакет \n(registry-file-storage)" as data_file_ceph
  participant "Сховище даних" as citus
end box

title Обмін файлами при взаємодії Low-code та Дата Фабрики

activate cabinet
  cabinet -> digital_documents: Завантаження файлів цифрових документів
  activate digital_documents
    digital_documents -> digital_documents: Генерація SHA256-гешів
    digital_documents -> lowcode_file_ceph: Збереження файлів цифрових документів під ключами <process/{processInstanceId}/{id}>
    lowcode_file_ceph - -> digital_documents:
    digital_documents - -> cabinet: UUID-ідентифікатори та SHA256-геші файлів
  deactivate digital_documents

  cabinet -> user_task_mngmnt: Виконання підпису документа даних форми, \nякий містить UUID-ідентифікатори та SHA256-геші файлів
  activate user_task_mngmnt
    user_task_mngmnt -> lowcode_form_data_ceph: Зберегти документ даних форми \nз UUID-ідентифікаторами та SHA256-гешами файлів
    user_task_mngmnt -> bpms: Завершення виконання задачі
    activate bpms
      bpms -> lowcode_form_data_ceph: Зчитати документ даних форми
      lowcode_form_data_ceph - -> bpms: Документ даних форми \nз UUID-ідентифікаторами та SHA256-гешами файлів
      note over bpms, data_factory: X-Digital-Signature, X-Source-Business-Process-Instance-Id
      bpms -> data_factory: Запит на збереження документа даних форми \nз UUID-ідентифікаторами та SHA256-гешами файлів
      activate data_factory
        data_factory -> data_factory: Перевірка цифрового підпису
        data_factory -> lowcode_file_ceph: Отримання файлів цифрових документів \nза ключами "process/{X-Source-Business-Process-Instance-Id}/UUID
        lowcode_file_ceph - -> data_factory
        data_factory -> data_factory: Перевірка співпадіння переданої з запитом чек-суми \nпроти новорозрахованого SHA256-геша файла
        data_factory -> data_file_ceph: Збереження файлів за UUID-ідентифікаторами
        data_factory -> citus: Збереження даних сутності \nз UUID-ідентифікаторами та SHA256-гешами файлів
        data_factory -> bpms: 200 OK, Дані збережено
      deactivate data_factory

      note over bpms, data_factory: X-Source-Business-Process-Instance-Id
      bpms -> data_factory: Отримання даних сутності
      activate data_factory
        data_factory -> citus: Отримання даних сутності за UUID-ідентифікаторами
        citus - -> data_factory
        data_factory -> data_file_ceph: Отримання файлів за UUID-ідентифікаторами
        data_file_ceph - -> data_factory
        data_factory -> data_factory: Перевірка співпадіння попередньо збереженої чек-суми \nпроти новорозрахованого SHA256-геша файла
        data_factory -> lowcode_file_ceph: Збереження файлів з ключами "process/{X-Source-Business-Process-Instance-Id}/UUID
        data_factory -> bpms: 200 OK, Дані сутності
      deactivate data_factory
      bpms -> cabinet: Повернення управління
    deactivate bpms
  deactivate user_task_mngmnt
deactivate cabinet
@enduml

PlantUML version 1.2021.7(Sun May 23 12:40:07 UTC 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>