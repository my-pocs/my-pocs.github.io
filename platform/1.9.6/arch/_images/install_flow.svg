<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="842px" preserveAspectRatio="none" style="width:1929px;height:842px;background:#FFFFFF;" version="1.1" viewBox="0 0 1929 842" width="1929px" zoomAndPan="magnify"><defs><filter height="300%" id="foncehb22awma" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="472" x="726.75" y="28.708">Діаграма послідовності розгортання платформи</text><rect fill="#FFFFFF" filter="url(#foncehb22awma)" height="191.9297" style="stroke:#000000;stroke-width:2.0;" width="1034.5" x="10" y="140.25"/><rect fill="#FFFFFF" filter="url(#foncehb22awma)" height="394.8594" style="stroke:#000000;stroke-width:2.0;" width="1905.5" x="10" y="346.1797"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="120" x2="120" y1="123.25" y2="758.0391"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="757.5" x2="757.5" y1="123.25" y2="758.0391"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="937.5" x2="937.5" y1="123.25" y2="758.0391"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1093.5" x2="1093.5" y1="123.25" y2="758.0391"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1704.5" x2="1704.5" y1="123.25" y2="758.0391"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1815.5" x2="1815.5" y1="123.25" y2="758.0391"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1878.5" x2="1878.5" y1="123.25" y2="758.0391"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="194" x="20" y="119.9482">Адміністратор платформи</text><ellipse cx="120" cy="49.9531" fill="#FEFECE" filter="url(#foncehb22awma)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M120,57.9531 L120,84.9531 M107,65.9531 L133,65.9531 M120,84.9531 L107,99.9531 M120,84.9531 L133,99.9531 " fill="none" filter="url(#foncehb22awma)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="194" x="20" y="770.0342">Адміністратор платформи</text><ellipse cx="120" cy="783.3359" fill="#FEFECE" filter="url(#foncehb22awma)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M120,791.3359 L120,818.3359 M107,799.3359 L133,799.3359 M120,818.3359 L107,833.3359 M120,818.3359 L133,833.3359 " fill="none" filter="url(#foncehb22awma)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#foncehb22awma)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="143" x="684.5" y="87.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="691.5" y="107.9482">Сервер інсталяції</text><rect fill="#FEFECE" filter="url(#foncehb22awma)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="143" x="684.5" y="757.0391"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="691.5" y="777.0342">Сервер інсталяції</text><rect fill="#FEFECE" filter="url(#foncehb22awma)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="189" x="841.5" y="87.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="848.5" y="107.9482">Контейнер Інсталятора</text><rect fill="#FEFECE" filter="url(#foncehb22awma)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="189" x="841.5" y="757.0391"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="848.5" y="777.0342">Контейнер Інсталятора</text><rect fill="#FEFECE" filter="url(#foncehb22awma)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="95" x="1044.5" y="87.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="1051.5" y="107.9482">Інсталятор</text><rect fill="#FEFECE" filter="url(#foncehb22awma)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="95" x="1044.5" y="757.0391"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="1051.5" y="777.0342">Інсталятор</text><rect fill="#FEFECE" filter="url(#foncehb22awma)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="145" x="1630.5" y="87.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131" x="1637.5" y="107.9482">Openshift кластер</text><rect fill="#FEFECE" filter="url(#foncehb22awma)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="145" x="1630.5" y="757.0391"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131" x="1637.5" y="777.0342">Openshift кластер</text><rect fill="#FEFECE" filter="url(#foncehb22awma)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="48" x="1789.5" y="87.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="34" x="1796.5" y="107.9482">Vault</text><rect fill="#FEFECE" filter="url(#foncehb22awma)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="48" x="1789.5" y="757.0391"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="34" x="1796.5" y="777.0342">Vault</text><rect fill="#FEFECE" filter="url(#foncehb22awma)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="50" x="1851.5" y="87.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="1858.5" y="107.9482">Minio</text><rect fill="#FEFECE" filter="url(#foncehb22awma)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="50" x="1851.5" y="757.0391"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="1858.5" y="777.0342">Minio</text><path d="M10,140.25 L363,140.25 L363,147.25 L353,157.25 L10,157.25 L10,140.25 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="191.9297" style="stroke:#000000;stroke-width:2.0;" width="1034.5" x="10" y="140.25"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="308" x="25" y="153.3169">Підготовка Інсталятора до розгортання</text><polygon fill="#A80036" points="746,174.5156,756,178.5156,746,182.5156,750,178.5156" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="120" x2="752" y1="178.5156" y2="178.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="127" y="173.4497">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="235" x="140" y="173.4497">Завантаження архіву Інсталятора</text><polygon fill="#A80036" points="746,203.6484,756,207.6484,746,211.6484,750,207.6484" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="120" x2="752" y1="207.6484" y2="207.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="127" y="202.5825">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="331" x="140" y="202.5825">Завантаження сертифікатів digital-signature-ops</text><polygon fill="#A80036" points="746,232.7813,756,236.7813,746,240.7813,750,236.7813" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="120" x2="752" y1="236.7813" y2="236.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="127" y="231.7153">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="311" x="140" y="231.7153">Перевірка готовності сервера (пререквізити)</text><polygon fill="#A80036" points="926,261.9141,936,265.9141,926,269.9141,930,265.9141" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="120" x2="932" y1="265.9141" y2="265.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="127" y="260.8481">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="198" x="140" y="260.8481">Автентифікація в Опеншифт</text><polygon fill="#A80036" points="926,291.0469,936,295.0469,926,299.0469,930,295.0469" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="120" x2="932" y1="295.0469" y2="295.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="127" y="289.981">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="215" x="140" y="289.981">Встановлення параметрів (env)</text><polygon fill="#A80036" points="926,320.1797,936,324.1797,926,328.1797,930,324.1797" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="120" x2="932" y1="324.1797" y2="324.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="127" y="319.1138">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="140" y="319.1138">Запуск Інсталера (install.sh -i)</text><path d="M10,346.1797 L246,346.1797 L246,353.1797 L236,363.1797 L10,363.1797 L10,346.1797 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="394.8594" style="stroke:#000000;stroke-width:2.0;" width="1905.5" x="10" y="346.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="191" x="25" y="359.2466">Розгортання Платформи</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1094" x2="1136" y1="384.4453" y2="384.4453"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1136" x2="1136" y1="384.4453" y2="397.4453"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1095" x2="1136" y1="397.4453" y2="397.4453"/><polygon fill="#A80036" points="1105,393.4453,1095,397.4453,1105,401.4453,1101,397.4453" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1101" y="379.3794">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="204" x="1114" y="379.3794">Перевірка вхідних параметрів</text><polygon fill="#A80036" points="1693,422.5781,1703,426.5781,1693,430.5781,1697,426.5781" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1094" x2="1699" y1="426.5781" y2="426.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1101" y="421.5122">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202" x="1114" y="421.5122">Увімкнення шифрування ETCD</text><polygon fill="#A80036" points="1693,466.8438,1703,470.8438,1693,474.8438,1697,470.8438" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1094" x2="1699" y1="470.8438" y2="470.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1101" y="458.2114">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="296" x="1114" y="450.645">Розгортання базових cluster-mgmt ресурсів</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="465" x="1114" y="465.7778">(catalog-sources, storage, keycloak-operator-crd, logging, service-mesh)</text><polygon fill="#A80036" points="1693,495.9766,1703,499.9766,1693,503.9766,1697,499.9766" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1094" x2="1699" y1="499.9766" y2="499.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1101" y="494.9106">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="270" x="1123" y="494.9106">Розгортання nexus (control-plane-nexus)</text><polygon fill="#A80036" points="1803.5,525.1094,1813.5,529.1094,1803.5,533.1094,1807.5,529.1094" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1094" x2="1809.5" y1="529.1094" y2="529.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1101" y="524.0435">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124" x="1123" y="524.0435">Розгортання Vault</text><polygon fill="#A80036" points="1866.5,554.2422,1876.5,558.2422,1866.5,562.2422,1870.5,558.2422" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1094" x2="1872.5" y1="558.2422" y2="558.2422"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1101" y="553.1763">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124" x="1123" y="553.1763">Розгортання Minio</text><polygon fill="#A80036" points="1693,583.375,1703,587.375,1693,591.375,1697,587.375" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1094" x2="1699" y1="587.375" y2="587.375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1101" y="582.3091">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="400" x="1123" y="582.3091">Завантаження докер імеджів в nexus (control-plane-nexus)</text><polygon fill="#A80036" points="1693,612.5078,1703,616.5078,1693,620.5078,1697,616.5078" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1094" x2="1699" y1="616.5078" y2="616.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1101" y="611.4419">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="565" x="1123" y="611.4419">Розгортання user-management та завантаження digital-signature-ops сертифікатів</text><polygon fill="#A80036" points="1693,641.6406,1703,645.6406,1693,649.6406,1697,645.6406" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1094" x2="1699" y1="645.6406" y2="645.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1101" y="640.5747">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="1123" y="640.5747">Розгортання Control Plane</text><polygon fill="#A80036" points="1693,670.7734,1703,674.7734,1693,678.7734,1697,674.7734" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1094" x2="1699" y1="674.7734" y2="674.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1101" y="669.7075">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="323" x="1123" y="669.7075">Завантаження xsd в nexus (control-plane-nexus)</text><polygon fill="#A80036" points="1693,699.9063,1703,703.9063,1693,707.9063,1697,703.9063" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1094" x2="1699" y1="703.9063" y2="703.9063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1101" y="698.8403">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="292" x="1123" y="698.8403">Завантаження параметрів доступу в Minio</text><polygon fill="#A80036" points="746,729.0391,756,733.0391,746,737.0391,750,733.0391" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="120" x2="752" y1="733.0391" y2="733.0391"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="127" y="727.9731">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="592" x="149" y="727.9731">Перевірка логу та збереження параметрів доступу до Control Plane в безпечному місці</text><!--MD5=[f8fa5ef7f40b007b792ef7c451003162]
@startuml
actor "Адміністратор платформи" as devops order 10
participant "Сервер інсталяції" as jumpbox  order 30
participant "Контейнер Інсталятора" as docker_load  order 35
participant "Інсталятор" as install.sh  order 40
participant "Openshift кластер" as openshift  order 45
participant "Vault" as vault  order 50
participant "Minio" as minio  order 55

autonumber

title Діаграма послідовності розгортання платформи

group Підготовка Інсталятора до розгортання
devops -> jumpbox: Завантаження архіву Інсталятора
devops -> jumpbox: Завантаження сертифікатів digital-signature-ops
devops -> jumpbox: Перевірка готовності сервера (пререквізити)
devops -> docker_load: Автентифікація в Опеншифт
devops -> docker_load: Встановлення параметрів (env)
devops -> docker_load: Запуск Інсталера (install.sh -i)
end

group Розгортання Платформи
install.sh -> install.sh: Перевірка вхідних параметрів
install.sh -> openshift: Увімкнення шифрування ETCD
install.sh -> openshift: Розгортання базових cluster-mgmt ресурсів\n(catalog-sources, storage, keycloak-operator-crd, logging, service-mesh)
install.sh -> openshift: Розгортання nexus (control-plane-nexus)
install.sh -> vault: Розгортання Vault
install.sh -> minio: Розгортання Minio
install.sh -> openshift: Завантаження докер імеджів в nexus (control-plane-nexus)
install.sh -> openshift: Розгортання user-management та завантаження digital-signature-ops сертифікатів
install.sh -> openshift: Розгортання Control Plane
install.sh -> openshift: Завантаження xsd в nexus (control-plane-nexus)
install.sh -> openshift: Завантаження параметрів доступу в Minio
devops -> jumpbox: Перевірка логу та збереження параметрів доступу до Control Plane в безпечному місці
end
@enduml

PlantUML version 1.2021.7(Sun May 23 12:40:07 UTC 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>