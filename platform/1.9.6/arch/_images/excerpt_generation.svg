<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1464px" preserveAspectRatio="none" style="width:2189px;height:1464px;background:#FFFFFF;" version="1.1" viewBox="0 0 2189 1464" width="2189px" zoomAndPan="magnify"><defs><filter height="300%" id="f87m5oqvf5r9a" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="485" x="848.5" y="28.708">Ініціювання генерації витягу через бізнес-процес</text><rect fill="#DDDDDD" height="1417.9141" style="stroke:#383838;stroke-width:1.0;" width="274" x="1311.5" y="40.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="205" x="1346" y="53.02">Виконання бізнес-процесів</text><rect fill="#CCCCCC" height="1417.9141" style="stroke:#383838;stroke-width:1.0;" width="175" x="1949" y="40.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="159" x="1957" y="53.02">Підсистема звітності</text><rect fill="#FFFFFF" filter="url(#f87m5oqvf5r9a)" height="1200.1875" style="stroke:#383838;stroke-width:1.0;" width="10" x="540.5" y="154.3828"/><rect fill="#FFFFFF" filter="url(#f87m5oqvf5r9a)" height="1128.9219" style="stroke:#383838;stroke-width:1.0;" width="10" x="889.5" y="225.6484"/><rect fill="#FFFFFF" filter="url(#f87m5oqvf5r9a)" height="1099.7891" style="stroke:#383838;stroke-width:1.0;" width="10" x="1166.5" y="254.7813"/><rect fill="#FFFFFF" filter="url(#f87m5oqvf5r9a)" height="1070.6563" style="stroke:#383838;stroke-width:1.0;" width="10" x="1443.5" y="283.9141"/><rect fill="#FFFFFF" filter="url(#f87m5oqvf5r9a)" height="117.5313" style="stroke:#000000;stroke-width:2.0;" width="1581.5" x="10" y="564.8438"/><rect fill="#FFFFFF" filter="url(#f87m5oqvf5r9a)" height="384.1328" style="stroke:#000000;stroke-width:2.0;" width="856" x="1295.5" y="696.375"/><rect fill="#FFFFFF" filter="url(#f87m5oqvf5r9a)" height="242.6016" style="stroke:#000000;stroke-width:2.0;" width="731" x="1305.5" y="830.9063"/><rect fill="#FFFFFF" height="99.0703" style="stroke:none;stroke-width:1.0;" width="731" x="1305.5" y="974.4375"/><rect fill="#FFFFFF" filter="url(#f87m5oqvf5r9a)" height="117.5313" style="stroke:#000000;stroke-width:2.0;" width="1581.5" x="10" y="1094.5078"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="65" x2="65" y1="123.25" y2="1372.5703"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="545" x2="545" y1="123.25" y2="1372.5703"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="894.5" x2="894.5" y1="123.25" y2="1372.5703"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1171" x2="1171" y1="123.25" y2="1372.5703"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1448.5" x2="1448.5" y1="123.25" y2="1372.5703"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2036" x2="2036" y1="123.25" y2="1372.5703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="20" y="119.9482">Користувач</text><ellipse cx="65.5" cy="49.9531" fill="#F8F8F8" filter="url(#f87m5oqvf5r9a)" rx="8" ry="8" style="stroke:#383838;stroke-width:2.0;"/><path d="M65.5,57.9531 L65.5,84.9531 M52.5,65.9531 L78.5,65.9531 M65.5,84.9531 L52.5,99.9531 M65.5,84.9531 L78.5,99.9531 " fill="none" filter="url(#f87m5oqvf5r9a)" style="stroke:#383838;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="20" y="1384.5654">Користувач</text><ellipse cx="65.5" cy="1397.8672" fill="#F8F8F8" filter="url(#f87m5oqvf5r9a)" rx="8" ry="8" style="stroke:#383838;stroke-width:2.0;"/><path d="M65.5,1405.8672 L65.5,1432.8672 M52.5,1413.8672 L78.5,1413.8672 M65.5,1432.8672 L52.5,1447.8672 M65.5,1432.8672 L78.5,1447.8672 " fill="none" filter="url(#f87m5oqvf5r9a)" style="stroke:#383838;stroke-width:2.0;"/><rect fill="#F8F8F8" filter="url(#f87m5oqvf5r9a)" height="46.5938" style="stroke:#383838;stroke-width:1.5;" width="175" x="456" y="71.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157" x="465" y="91.6514">Клієнтський додаток</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157" x="467" y="107.9482">кабінету користувача</text><rect fill="#F8F8F8" filter="url(#f87m5oqvf5r9a)" height="46.5938" style="stroke:#383838;stroke-width:1.5;" width="175" x="456" y="1371.5703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157" x="465" y="1391.5654">Клієнтський додаток</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157" x="467" y="1407.8623">кабінету користувача</text><rect fill="#F8F8F8" filter="url(#f87m5oqvf5r9a)" height="46.5938" style="stroke:#383838;stroke-width:1.5;" width="130" x="827.5" y="71.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="872.5" y="91.6514">Kong</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="834.5" y="107.9482">API Management</text><rect fill="#F8F8F8" filter="url(#f87m5oqvf5r9a)" height="46.5938" style="stroke:#383838;stroke-width:1.5;" width="130" x="827.5" y="1371.5703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="872.5" y="1391.5654">Kong</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="834.5" y="1407.8623">API Management</text><rect fill="#F8F8F8" filter="url(#f87m5oqvf5r9a)" height="46.5938" style="stroke:#383838;stroke-width:1.5;" width="245" x="1047" y="71.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="1102.5" y="91.6514">Сервіс управління</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="227" x="1058" y="107.9482">бізнес-процесами користувача</text><rect fill="#F8F8F8" filter="url(#f87m5oqvf5r9a)" height="46.5938" style="stroke:#383838;stroke-width:1.5;" width="245" x="1047" y="1371.5703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="1102.5" y="1391.5654">Сервіс управління</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="227" x="1058" y="1407.8623">бізнес-процесами користувача</text><rect fill="#F8F8F8" filter="url(#f87m5oqvf5r9a)" height="30.2969" style="stroke:#383838;stroke-width:1.5;" width="262" x="1315.5" y="87.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="248" x="1322.5" y="107.9482">Сервіс виконання бізнес-процесів</text><rect fill="#F8F8F8" filter="url(#f87m5oqvf5r9a)" height="30.2969" style="stroke:#383838;stroke-width:1.5;" width="262" x="1315.5" y="1371.5703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="248" x="1322.5" y="1391.5654">Сервіс виконання бізнес-процесів</text><rect fill="#F8F8F8" filter="url(#f87m5oqvf5r9a)" height="30.2969" style="stroke:#383838;stroke-width:1.5;" width="163" x="1953" y="87.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149" x="1960" y="107.9482">API генерації витягів</text><rect fill="#F8F8F8" filter="url(#f87m5oqvf5r9a)" height="30.2969" style="stroke:#383838;stroke-width:1.5;" width="163" x="1953" y="1371.5703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149" x="1960" y="1391.5654">API генерації витягів</text><rect fill="#FFFFFF" filter="url(#f87m5oqvf5r9a)" height="1200.1875" style="stroke:#383838;stroke-width:1.0;" width="10" x="540.5" y="154.3828"/><rect fill="#FFFFFF" filter="url(#f87m5oqvf5r9a)" height="1128.9219" style="stroke:#383838;stroke-width:1.0;" width="10" x="889.5" y="225.6484"/><rect fill="#FFFFFF" filter="url(#f87m5oqvf5r9a)" height="1099.7891" style="stroke:#383838;stroke-width:1.0;" width="10" x="1166.5" y="254.7813"/><rect fill="#FFFFFF" filter="url(#f87m5oqvf5r9a)" height="1070.6563" style="stroke:#383838;stroke-width:1.0;" width="10" x="1443.5" y="283.9141"/><polygon fill="#383838" points="528.5,150.3828,538.5,154.3828,528.5,158.3828,532.5,154.3828" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="65.5" x2="534.5" y1="154.3828" y2="154.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="257" x="72.5" y="149.3169">Замовлення послуги генерації витягу</text><line style="stroke:#383838;stroke-width:1.0;" x1="550.5" x2="592.5" y1="183.5156" y2="183.5156"/><line style="stroke:#383838;stroke-width:1.0;" x1="592.5" x2="592.5" y1="183.5156" y2="196.5156"/><line style="stroke:#383838;stroke-width:1.0;" x1="551.5" x2="592.5" y1="196.5156" y2="196.5156"/><polygon fill="#383838" points="561.5,192.5156,551.5,196.5156,561.5,200.5156,557.5,196.5156" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="325" x="557.5" y="178.4497">Введення вхідних даних через стартову форму</text><polygon fill="#383838" points="877.5,221.6484,887.5,225.6484,877.5,229.6484,881.5,225.6484" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="550.5" x2="883.5" y1="225.6484" y2="225.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="248" x="557.5" y="220.5825">Запит на ініціювання бізнес-процесу</text><polygon fill="#383838" points="1154.5,250.7813,1164.5,254.7813,1154.5,258.7813,1158.5,254.7813" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="899.5" x2="1160.5" y1="254.7813" y2="254.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="248" x="906.5" y="249.7153">Запит на ініціювання бізнес-процесу</text><polygon fill="#383838" points="1431.5,279.9141,1441.5,283.9141,1431.5,287.9141,1435.5,283.9141" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="1176.5" x2="1437.5" y1="283.9141" y2="283.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="248" x="1183.5" y="278.8481">Запит на ініціювання бізнес-процесу</text><line style="stroke:#383838;stroke-width:1.0;" x1="1453.5" x2="1495.5" y1="313.0469" y2="313.0469"/><line style="stroke:#383838;stroke-width:1.0;" x1="1495.5" x2="1495.5" y1="313.0469" y2="326.0469"/><line style="stroke:#383838;stroke-width:1.0;" x1="1454.5" x2="1495.5" y1="326.0469" y2="326.0469"/><polygon fill="#383838" points="1464.5,322.0469,1454.5,326.0469,1464.5,330.0469,1460.5,326.0469" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="1460.5" y="307.981">Обробка вхідних даних</text><line style="stroke:#383838;stroke-width:1.0;" x1="1453.5" x2="1495.5" y1="355.1797" y2="355.1797"/><line style="stroke:#383838;stroke-width:1.0;" x1="1495.5" x2="1495.5" y1="355.1797" y2="368.1797"/><line style="stroke:#383838;stroke-width:1.0;" x1="1454.5" x2="1495.5" y1="368.1797" y2="368.1797"/><polygon fill="#383838" points="1464.5,364.1797,1454.5,368.1797,1464.5,372.1797,1460.5,368.1797" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167" x="1460.5" y="350.1138">Визначення типу витягу</text><line style="stroke:#383838;stroke-width:1.0;" x1="1453.5" x2="1495.5" y1="397.3125" y2="397.3125"/><line style="stroke:#383838;stroke-width:1.0;" x1="1495.5" x2="1495.5" y1="397.3125" y2="410.3125"/><line style="stroke:#383838;stroke-width:1.0;" x1="1454.5" x2="1495.5" y1="410.3125" y2="410.3125"/><polygon fill="#383838" points="1464.5,406.3125,1454.5,410.3125,1464.5,414.3125,1460.5,410.3125" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="385" x="1460.5" y="392.2466">Підготовка даних для формування запиту на генерацію</text><line style="stroke:#383838;stroke-width:1.0;" x1="1453.5" x2="1495.5" y1="439.4453" y2="439.4453"/><line style="stroke:#383838;stroke-width:1.0;" x1="1495.5" x2="1495.5" y1="439.4453" y2="452.4453"/><line style="stroke:#383838;stroke-width:1.0;" x1="1454.5" x2="1495.5" y1="452.4453" y2="452.4453"/><polygon fill="#383838" points="1464.5,448.4453,1454.5,452.4453,1464.5,456.4453,1460.5,452.4453" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="326" x="1460.5" y="434.3794">Накладання системного підпису на дані запиту</text><path d="M1307,465.4453 L1307,490.4453 L2173,490.4453 L2173,475.4453 L2163,465.4453 L1307,465.4453 " fill="#EBEBEB" filter="url(#f87m5oqvf5r9a)" style="stroke:#383838;stroke-width:1.0;"/><path d="M2163,465.4453 L2163,475.4453 L2173,475.4453 L2163,465.4453 " fill="#EBEBEB" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="845" x="1313" y="482.5122">Тип витягу, необхідність накладання системного підпису, вхідні дані для генерації та Access Token користувача-ініціатора</text><polygon fill="#383838" points="2024.5,516.7109,2034.5,520.7109,2024.5,524.7109,2028.5,520.7109" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="1453.5" x2="2030.5" y1="520.7109" y2="520.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="321" x="1460.5" y="515.645">Запит на генерацію витягу [asyncBefore / sync]</text><polygon fill="#383838" points="1464.5,545.8438,1454.5,549.8438,1464.5,553.8438,1460.5,549.8438" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="1458.5" x2="2035.5" y1="549.8438" y2="549.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="257" x="1470.5" y="544.7778">Ідентифікатор згенерованого витягу</text><path d="M10,564.8438 L74,564.8438 L74,571.8438 L64,581.8438 L10,581.8438 L10,564.8438 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="117.5313" style="stroke:#000000;stroke-width:2.0;" width="1581.5" x="10" y="564.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="25" y="577.9106">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="632" x="89" y="577.0542">[Повернення управління у кабінет при асинхронному запиті на генерацію витягу [asyncBefore]]</text><polygon fill="#383838" points="561.5,599.1094,551.5,603.1094,561.5,607.1094,557.5,603.1094" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="555.5" x2="1442.5" y1="603.1094" y2="603.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="244" x="567.5" y="598.0435">Перехід управління до користувача</text><line style="stroke:#383838;stroke-width:1.0;" x1="550.5" x2="592.5" y1="632.2422" y2="632.2422"/><line style="stroke:#383838;stroke-width:1.0;" x1="592.5" x2="592.5" y1="632.2422" y2="645.2422"/><line style="stroke:#383838;stroke-width:1.0;" x1="551.5" x2="592.5" y1="645.2422" y2="645.2422"/><polygon fill="#383838" points="561.5,641.2422,551.5,645.2422,561.5,649.2422,557.5,645.2422" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="288" x="557.5" y="627.1763">Перехід до сторінки "Послуги у виконанні"</text><polygon fill="#383838" points="76.5,670.375,66.5,674.375,76.5,678.375,72.5,674.375" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="70.5" x2="539.5" y1="674.375" y2="674.375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="397" x="82.5" y="669.3091">Перегляд послуг у виконанні зі статусом генерації витягу</text><path d="M1295.5,696.375 L1372.5,696.375 L1372.5,703.375 L1362.5,713.375 L1295.5,713.375 L1295.5,696.375 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="384.1328" style="stroke:#000000;stroke-width:2.0;" width="856" x="1295.5" y="696.375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="32" x="1310.5" y="709.4419">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="216" x="1387.5" y="708.5854">[Полінг статусу генерації витягу]</text><path d="M1342,718.5078 L1342,743.5078 L2141,743.5078 L2141,728.5078 L2131,718.5078 L1342,718.5078 " fill="#EBEBEB" filter="url(#f87m5oqvf5r9a)" style="stroke:#383838;stroke-width:1.0;"/><path d="M2131,718.5078 L2131,728.5078 L2141,728.5078 L2131,718.5078 " fill="#EBEBEB" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="438" x="1516.25" y="735.5747">Ідентифікатор витягу та Access Token системного користувача</text><polygon fill="#383838" points="2024.5,769.7734,2034.5,773.7734,2024.5,777.7734,2028.5,773.7734" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="1453.5" x2="2030.5" y1="773.7734" y2="773.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="393" x="1460.5" y="768.7075">Отримання статусу генерації витягу за ідентифікатором</text><line style="stroke:#383838;stroke-width:1.0;" x1="1453.5" x2="1495.5" y1="802.9063" y2="802.9063"/><line style="stroke:#383838;stroke-width:1.0;" x1="1495.5" x2="1495.5" y1="802.9063" y2="815.9063"/><line style="stroke:#383838;stroke-width:1.0;" x1="1454.5" x2="1495.5" y1="815.9063" y2="815.9063"/><polygon fill="#383838" points="1464.5,811.9063,1454.5,815.9063,1464.5,819.9063,1460.5,815.9063" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="244" x="1460.5" y="797.8403">Перевірка статусу генерації витягу</text><path d="M1305.5,830.9063 L1369.5,830.9063 L1369.5,837.9063 L1359.5,847.9063 L1305.5,847.9063 L1305.5,830.9063 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="242.6016" style="stroke:#000000;stroke-width:2.0;" width="731" x="1305.5" y="830.9063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="1320.5" y="843.9731">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="191" x="1384.5" y="843.1167">[Витяг згенеровано успішно]</text><line style="stroke:#383838;stroke-width:1.0;" x1="1453.5" x2="1495.5" y1="869.1719" y2="869.1719"/><line style="stroke:#383838;stroke-width:1.0;" x1="1495.5" x2="1495.5" y1="869.1719" y2="882.1719"/><line style="stroke:#383838;stroke-width:1.0;" x1="1454.5" x2="1495.5" y1="882.1719" y2="882.1719"/><polygon fill="#383838" points="1464.5,878.1719,1454.5,882.1719,1464.5,886.1719,1460.5,882.1719" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="471" x="1460.5" y="864.106">Збереження ідентифікатору у змінній SYS_VAR_PROCESS_EXCERPT_ID</text><line style="stroke:#383838;stroke-width:1.0;" x1="1453.5" x2="1495.5" y1="911.3047" y2="911.3047"/><line style="stroke:#383838;stroke-width:1.0;" x1="1495.5" x2="1495.5" y1="911.3047" y2="924.3047"/><line style="stroke:#383838;stroke-width:1.0;" x1="1454.5" x2="1495.5" y1="924.3047" y2="924.3047"/><polygon fill="#383838" points="1464.5,920.3047,1454.5,924.3047,1464.5,928.3047,1460.5,924.3047" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="564" x="1460.5" y="906.2388">Збереження результату процесу у змінній SYS_VAR_PROCESS_COMPLETION_RESULT</text><line style="stroke:#383838;stroke-width:1.0;" x1="1453.5" x2="1495.5" y1="953.4375" y2="953.4375"/><line style="stroke:#383838;stroke-width:1.0;" x1="1495.5" x2="1495.5" y1="953.4375" y2="966.4375"/><line style="stroke:#383838;stroke-width:1.0;" x1="1454.5" x2="1495.5" y1="966.4375" y2="966.4375"/><polygon fill="#383838" points="1464.5,962.4375,1454.5,966.4375,1464.5,970.4375,1460.5,966.4375" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="248" x="1460.5" y="948.3716">Завершення бізнес-процесу процесу</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1305.5" x2="2036.5" y1="975.4375" y2="975.4375"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="237" x="1310.5" y="985.6479">[Виникла помилка генерації витягу]</text><line style="stroke:#383838;stroke-width:1.0;" x1="1453.5" x2="1495.5" y1="1010.375" y2="1010.375"/><line style="stroke:#383838;stroke-width:1.0;" x1="1495.5" x2="1495.5" y1="1010.375" y2="1023.375"/><line style="stroke:#383838;stroke-width:1.0;" x1="1454.5" x2="1495.5" y1="1023.375" y2="1023.375"/><polygon fill="#383838" points="1464.5,1019.375,1454.5,1023.375,1464.5,1027.375,1460.5,1023.375" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="564" x="1460.5" y="1005.3091">Збереження результату процесу у змінній SYS_VAR_PROCESS_COMPLETION_RESULT</text><line style="stroke:#383838;stroke-width:1.0;" x1="1453.5" x2="1495.5" y1="1052.5078" y2="1052.5078"/><line style="stroke:#383838;stroke-width:1.0;" x1="1495.5" x2="1495.5" y1="1052.5078" y2="1065.5078"/><line style="stroke:#383838;stroke-width:1.0;" x1="1454.5" x2="1495.5" y1="1065.5078" y2="1065.5078"/><polygon fill="#383838" points="1464.5,1061.5078,1454.5,1065.5078,1464.5,1069.5078,1460.5,1065.5078" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="248" x="1460.5" y="1047.4419">Завершення бізнес-процесу процесу</text><path d="M10,1094.5078 L74,1094.5078 L74,1101.5078 L64,1111.5078 L10,1111.5078 L10,1094.5078 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="117.5313" style="stroke:#000000;stroke-width:2.0;" width="1581.5" x="10" y="1094.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="25" y="1107.5747">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="738" x="89" y="1106.7183">[Блокування користувача кабінету при синхронному запиті на генерацію витягу до завершення процесу [sync]]</text><polygon fill="#383838" points="561.5,1128.7734,551.5,1132.7734,561.5,1136.7734,557.5,1132.7734" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="555.5" x2="1442.5" y1="1132.7734" y2="1132.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="244" x="567.5" y="1127.7075">Перехід управління до користувача</text><line style="stroke:#383838;stroke-width:1.0;" x1="550.5" x2="592.5" y1="1161.9063" y2="1161.9063"/><line style="stroke:#383838;stroke-width:1.0;" x1="592.5" x2="592.5" y1="1161.9063" y2="1174.9063"/><line style="stroke:#383838;stroke-width:1.0;" x1="551.5" x2="592.5" y1="1174.9063" y2="1174.9063"/><polygon fill="#383838" points="561.5,1170.9063,551.5,1174.9063,561.5,1178.9063,557.5,1174.9063" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="275" x="557.5" y="1156.8403">Перехід на сторінку "Замовлені послуги"</text><polygon fill="#383838" points="76.5,1200.0391,66.5,1204.0391,76.5,1208.0391,72.5,1204.0391" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="70.5" x2="539.5" y1="1204.0391" y2="1204.0391"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="451" x="82.5" y="1198.9731">Перегляд замовлених послуг з можливістю завантаження витягу</text><rect fill="#EEEEEE" filter="url(#f87m5oqvf5r9a)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="2182" x="0" y="1239.6055"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2182" y1="1239.6055" y2="1239.6055"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2182" y1="1242.6055" y2="1242.6055"/><rect fill="#EEEEEE" filter="url(#f87m5oqvf5r9a)" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="456" x="863" y="1229.0391"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="432" x="869" y="1245.106">Отримання інформації про завершення генерації витягу</text><polygon fill="#383838" points="528.5,1279.3047,538.5,1283.3047,528.5,1287.3047,532.5,1283.3047" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="65.5" x2="534.5" y1="1283.3047" y2="1283.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="258" x="72.5" y="1278.2388">Перевірка статусу замовлених послуг</text><line style="stroke:#383838;stroke-width:1.0;" x1="550.5" x2="592.5" y1="1312.4375" y2="1312.4375"/><line style="stroke:#383838;stroke-width:1.0;" x1="592.5" x2="592.5" y1="1312.4375" y2="1325.4375"/><line style="stroke:#383838;stroke-width:1.0;" x1="551.5" x2="592.5" y1="1325.4375" y2="1325.4375"/><polygon fill="#383838" points="561.5,1321.4375,551.5,1325.4375,561.5,1329.4375,557.5,1325.4375" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="275" x="557.5" y="1307.3716">Перехід на сторінку "Замовлені послуги"</text><polygon fill="#383838" points="76.5,1350.5703,66.5,1354.5703,76.5,1358.5703,72.5,1354.5703" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="70.5" x2="544.5" y1="1354.5703" y2="1354.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="451" x="82.5" y="1349.5044">Перегляд замовлених послуг з можливістю завантаження витягу</text><!--MD5=[bb3171b5465a2cb9dc2db80b2d585f0b]
@startuml
skinparam monochrome true

actor "Користувач" as user
participant "Клієнтський додаток\n кабінету користувача" as cabinet
participant "Kong \nAPI Management" as kong
participant "Сервіс управління \n бізнес-процесами користувача" as user_process_mngmnt

box "Виконання бізнес-процесів"
participant "Сервіс виконання бізнес-процесів" as bpms
end box

box "Підсистема звітності" #LightBlue
participant "API генерації витягів" as report_generation_api
end box

skinparam responseMessageBelowArrow false
title Ініціювання генерації витягу через бізнес-процес

user -> cabinet: Замовлення послуги генерації витягу
activate cabinet
  cabinet -> cabinet: Введення вхідних даних через стартову форму
  cabinet -> kong: Запит на ініціювання бізнес-процесу
  activate kong
    kong -> user_process_mngmnt: Запит на ініціювання бізнес-процесу
    activate user_process_mngmnt
      user_process_mngmnt -> bpms: Запит на ініціювання бізнес-процесу
      activate bpms
        bpms -> bpms: Обробка вхідних даних
        bpms -> bpms: Визначення типу витягу
        bpms -> bpms: Підготовка даних для формування запиту на генерацію
        bpms -> bpms: Накладання системного підпису на дані запиту
        note over bpms, report_generation_api: Тип витягу, необхідність накладання системного підпису, вхідні дані для генерації та Access Token користувача-ініціатора
        bpms -> report_generation_api: Запит на генерацію витягу [asyncBefore / sync]
        report_generation_api -> bpms: Ідентифікатор згенерованого витягу
        alt Повернення управління у кабінет при асинхронному запиті на генерацію витягу [asyncBefore]
        bpms -> cabinet: Перехід управління до користувача
        cabinet -> cabinet: Перехід до сторінки "Послуги у виконанні"
        cabinet -> user: Перегляд послуг у виконанні зі статусом генерації витягу
        end
        loop Полінг статусу генерації витягу
          note over bpms, report_generation_api: Ідентифікатор витягу та Access Token системного користувача
          bpms -> report_generation_api: Отримання статусу генерації витягу за ідентифікатором
          bpms -> bpms: Перевірка статусу генерації витягу
          alt Витяг згенеровано успішно
            bpms -> bpms: Збереження ідентифікатору у змінній SYS_VAR_PROCESS_EXCERPT_ID
            bpms -> bpms: Збереження результату процесу у змінній SYS_VAR_PROCESS_COMPLETION_RESULT
            bpms -> bpms: Завершення бізнес-процесу процесу
          else Виникла помилка генерації витягу
            bpms -> bpms: Збереження результату процесу у змінній SYS_VAR_PROCESS_COMPLETION_RESULT
            bpms -> bpms: Завершення бізнес-процесу процесу
          end
        end
        alt Блокування користувача кабінету при синхронному запиті на генерацію витягу до завершення процесу [sync]
          bpms -> cabinet: Перехід управління до користувача
          cabinet -> cabinet: Перехід на сторінку "Замовлені послуги"
          cabinet -> user: Перегляд замовлених послуг з можливістю завантаження витягу
        end

        == Отримання інформації про завершення генерації витягу  ==
        user -> cabinet: Перевірка статусу замовлених послуг
        cabinet -> cabinet: Перехід на сторінку "Замовлені послуги"
        cabinet -> user: Перегляд замовлених послуг з можливістю завантаження витягу
      deactivate bpms
    deactivate user_process_mngmnt
  deactivate kong
 deactivate cabinet
@enduml

PlantUML version 1.2021.7(Sun May 23 12:40:07 UTC 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>