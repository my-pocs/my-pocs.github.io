<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="455px" preserveAspectRatio="none" style="width:1209px;height:455px;background:#FFFFFF;" version="1.1" viewBox="0 0 1209 455" width="1209px" zoomAndPan="magnify"><defs><filter height="300%" id="fbq8r4qvq1rmp" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="93" x2="93" y1="88.2969" y2="371.625"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="402" x2="402" y1="88.2969" y2="371.625"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="622.5" x2="622.5" y1="88.2969" y2="371.625"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="924.5" x2="924.5" y1="88.2969" y2="371.625"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1136.5" x2="1136.5" y1="88.2969" y2="371.625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="170" x="5" y="84.9951">Адміністратор безпеки</text><ellipse cx="93" cy="15" fill="#F8F8F8" filter="url(#fbq8r4qvq1rmp)" rx="8" ry="8" style="stroke:#383838;stroke-width:2.0;"/><path d="M93,23 L93,50 M80,31 L106,31 M93,50 L80,65 M93,50 L106,65 " fill="none" filter="url(#fbq8r4qvq1rmp)" style="stroke:#383838;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="170" x="5" y="383.6201">Адміністратор безпеки</text><ellipse cx="93" cy="396.9219" fill="#F8F8F8" filter="url(#fbq8r4qvq1rmp)" rx="8" ry="8" style="stroke:#383838;stroke-width:2.0;"/><path d="M93,404.9219 L93,431.9219 M80,412.9219 L106,412.9219 M93,431.9219 L80,446.9219 M93,431.9219 L106,446.9219 " fill="none" filter="url(#fbq8r4qvq1rmp)" style="stroke:#383838;stroke-width:2.0;"/><rect fill="#F8F8F8" filter="url(#fbq8r4qvq1rmp)" height="30.2969" style="stroke:#383838;stroke-width:1.5;" width="100" x="350" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="357" y="72.9951">Control plain</text><rect fill="#F8F8F8" filter="url(#fbq8r4qvq1rmp)" height="30.2969" style="stroke:#383838;stroke-width:1.5;" width="100" x="350" y="370.625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="357" y="390.6201">Control plain</text><rect fill="#F8F8F8" filter="url(#fbq8r4qvq1rmp)" height="30.2969" style="stroke:#383838;stroke-width:1.5;" width="63" x="589.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="596.5" y="72.9951">Jenkins</text><rect fill="#F8F8F8" filter="url(#fbq8r4qvq1rmp)" height="30.2969" style="stroke:#383838;stroke-width:1.5;" width="63" x="589.5" y="370.625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="596.5" y="390.6201">Jenkins</text><rect fill="#F8F8F8" filter="url(#fbq8r4qvq1rmp)" height="30.2969" style="stroke:#383838;stroke-width:1.5;" width="75" x="885.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="892.5" y="72.9951">Keycloak</text><rect fill="#F8F8F8" filter="url(#fbq8r4qvq1rmp)" height="30.2969" style="stroke:#383838;stroke-width:1.5;" width="75" x="885.5" y="370.625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="892.5" y="390.6201">Keycloak</text><rect fill="#F8F8F8" filter="url(#fbq8r4qvq1rmp)" height="46.5938" style="stroke:#383838;stroke-width:1.5;" width="121" x="1074.5" y="36.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="1081.5" y="56.6982">Hashicorp Vault</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="1094.5" y="72.9951">платформи</text><rect fill="#F8F8F8" filter="url(#fbq8r4qvq1rmp)" height="46.5938" style="stroke:#383838;stroke-width:1.5;" width="121" x="1074.5" y="370.625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="1081.5" y="390.6201">Hashicorp Vault</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="1094.5" y="406.917">платформи</text><polygon fill="#383838" points="390,130.5625,400,134.5625,390,138.5625,394,134.5625" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="93" x2="396" y1="134.5625" y2="134.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="100" y="121.9302">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163" x="113" y="114.3638">створення користувача</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="272" x="113" y="129.4966">з вказанням реєстру клієнта (codebase)</text><polygon fill="#383838" points="611,159.6953,621,163.6953,611,167.6953,615,163.6953" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="402" x2="617" y1="163.6953" y2="163.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="409" y="158.6294">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="422" y="158.6294">запуск пайплайна</text><polygon fill="#383838" points="913,203.9609,923,207.9609,913,211.9609,917,207.9609" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="623" x2="919" y1="207.9609" y2="207.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="630" y="195.3286">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193" x="643" y="187.7622">створення сервісний акаунт</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="265" x="643" y="202.895">в external realm реєстру тримачі даних</text><polygon fill="#383838" points="634,233.0938,624,237.0938,634,241.0938,630,237.0938" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="628" x2="924" y1="237.0938" y2="237.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="640" y="232.0278">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="657" y="232.0278"/><polygon fill="#383838" points="1125,262.2266,1135,266.2266,1125,270.2266,1129,266.2266" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="623" x2="1131" y1="266.2266" y2="266.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="630" y="261.1606">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="373" x="643" y="261.1606">збереження параметрів входу для сервісного акаунту</text><polygon fill="#383838" points="634,291.3594,624,295.3594,634,299.3594,630,295.3594" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="628" x2="1136" y1="295.3594" y2="295.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="640" y="290.2935">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="657" y="290.2935"/><polygon fill="#383838" points="413,320.4922,403,324.4922,413,328.4922,409,324.4922" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="407" x2="622" y1="324.4922" y2="324.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="419" y="319.4263">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184" x="432" y="319.4263">зміна статусу користувача</text><polygon fill="#383838" points="104,349.625,94,353.625,104,357.625,100,353.625" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="98" x2="401" y1="353.625" y2="353.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="110" y="348.5591">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="127" y="348.5591"/><!--MD5=[a2c08d4fc0ac447cac37af757323392b]
@startuml
skinparam monochrome true
skinparam ParticipantPadding 50
skinparam BoxPadding 10
autonumber

actor "Адміністратор безпеки" as admin



participant "Control plain" as cp
participant "Jenkins" as jenkins
participant "Keycloak" as key
participant "Hashicorp Vault\n платформи" as vault

'user -> gerrit: перелік систем (їх кодів)
'jenkins -> gerrit: pipeline публікації
'jenkins -> jenkins: створення параметрів входу\nдля кожної системи
'jenkins -> vault: збереження параметрів входу
'return

'key - -> jenkins

admin -> cp: створення користувача \nз вказанням реєстру клієнта (codebase)

cp -> jenkins: запуск пайплайна
jenkins -> key: створення сервісний акаунт \nв external realm реєстру тримачі даних
return
jenkins -> vault: збереження параметрів входу для сервісного акаунту
return
jenkins -> cp: зміна статусу користувача
cp -> admin:
@enduml

@startuml
skinparam monochrome true
skinparam ParticipantPadding 50
skinparam BoxPadding 10
autonumber

actor "Адміністратор безпеки" as admin



participant "Control plain" as cp
participant "Jenkins" as jenkins
participant "Keycloak" as key
participant "Hashicorp Vault\n платформи" as vault



admin -> cp: створення користувача \nз вказанням реєстру клієнта (codebase)

cp -> jenkins: запуск пайплайна
jenkins -> key: створення сервісний акаунт \nв external realm реєстру тримачі даних
return
jenkins -> vault: збереження параметрів входу для сервісного акаунту
return
jenkins -> cp: зміна статусу користувача
cp -> admin:
@enduml

PlantUML version 1.2021.7(Sun May 23 12:40:07 UTC 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>