<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="946px" preserveAspectRatio="none" style="width:1104px;height:946px;background:#FFFFFF;" version="1.1" viewBox="0 0 1104 946" width="1104px" zoomAndPan="magnify"><defs><filter height="300%" id="fz7jbp9ns606b" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fz7jbp9ns606b)" height="804.9297" style="stroke:#A80036;stroke-width:1.0;" width="10" x="171" y="56.2969"/><rect fill="#FFFFFF" filter="url(#fz7jbp9ns606b)" height="109.2031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="548" y="85.4297"/><rect fill="#FFFFFF" filter="url(#fz7jbp9ns606b)" height="12" style="stroke:#A80036;stroke-width:1.0;" width="10" x="548" y="240.8984"/><rect fill="#FFFFFF" filter="url(#fz7jbp9ns606b)" height="12" style="stroke:#A80036;stroke-width:1.0;" width="10" x="548" y="365.4297"/><rect fill="#FFFFFF" filter="url(#fz7jbp9ns606b)" height="12" style="stroke:#A80036;stroke-width:1.0;" width="10" x="548" y="820.0938"/><rect fill="#FFFFFF" filter="url(#fz7jbp9ns606b)" height="12" style="stroke:#A80036;stroke-width:1.0;" width="10" x="764.5" y="438.5"/><rect fill="#FFFFFF" filter="url(#fz7jbp9ns606b)" height="12" style="stroke:#A80036;stroke-width:1.0;" width="10" x="764.5" y="562.0313"/><rect fill="#FFFFFF" filter="url(#fz7jbp9ns606b)" height="12" style="stroke:#A80036;stroke-width:1.0;" width="10" x="942" y="496.7656"/><rect fill="#FFFFFF" filter="url(#fz7jbp9ns606b)" height="12" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1047.5" y="620.2969"/><rect fill="#FFFFFF" filter="url(#fz7jbp9ns606b)" height="785.9297" style="stroke:#000000;stroke-width:2.0;" width="1087" x="3" y="100.4297"/><rect fill="#FFFFFF" height="710.5313" style="stroke:none;stroke-width:1.0;" width="1087" x="3" y="175.8281"/><rect fill="#FFFFFF" filter="url(#fz7jbp9ns606b)" height="206.7344" style="stroke:#000000;stroke-width:2.0;" width="1006.5" x="18.5" y="327.1641"/><rect fill="#FFFFFF" height="131.3359" style="stroke:none;stroke-width:1.0;" width="1006.5" x="18.5" y="402.5625"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="175.5" x2="175.5" y1="40.2969" y2="903.3594"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="553" x2="553" y1="40.2969" y2="903.3594"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="769" x2="769" y1="40.2969" y2="903.3594"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="947" x2="947" y1="40.2969" y2="903.3594"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1052" x2="1052" y1="40.2969" y2="903.3594"/><rect fill="#FEFECE" filter="url(#fz7jbp9ns606b)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="291" x="28.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="277" x="35.5" y="24.9951">sign_submission(&lt;activity_id|event_id&gt;)</text><rect fill="#FEFECE" filter="url(#fz7jbp9ns606b)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="291" x="28.5" y="902.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="277" x="35.5" y="922.3545">sign_submission(&lt;activity_id|event_id&gt;)</text><rect fill="#FEFECE" filter="url(#fz7jbp9ns606b)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="210" x="446" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="196" x="453" y="24.9951">Camunda Execution Context</text><rect fill="#FEFECE" filter="url(#fz7jbp9ns606b)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="210" x="446" y="902.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="196" x="453" y="922.3545">Camunda Execution Context</text><rect fill="#FEFECE" filter="url(#fz7jbp9ns606b)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="195" x="670" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="181" x="677" y="24.9951">Spring Application Context</text><rect fill="#FEFECE" filter="url(#fz7jbp9ns606b)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="195" x="670" y="902.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="181" x="677" y="922.3545">Spring Application Context</text><rect fill="#FEFECE" filter="url(#fz7jbp9ns606b)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="132" x="879" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="886" y="24.9951">CephKeyProvider</text><rect fill="#FEFECE" filter="url(#fz7jbp9ns606b)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="132" x="879" y="902.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="886" y="922.3545">CephKeyProvider</text><rect fill="#FEFECE" filter="url(#fz7jbp9ns606b)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="51" x="1025" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="1032" y="24.9951">Ceph</text><rect fill="#FEFECE" filter="url(#fz7jbp9ns606b)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="51" x="1025" y="902.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="1032" y="922.3545">Ceph</text><rect fill="#FFFFFF" filter="url(#fz7jbp9ns606b)" height="804.9297" style="stroke:#A80036;stroke-width:1.0;" width="10" x="171" y="56.2969"/><rect fill="#FFFFFF" filter="url(#fz7jbp9ns606b)" height="109.2031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="548" y="85.4297"/><rect fill="#FFFFFF" filter="url(#fz7jbp9ns606b)" height="12" style="stroke:#A80036;stroke-width:1.0;" width="10" x="548" y="240.8984"/><rect fill="#FFFFFF" filter="url(#fz7jbp9ns606b)" height="12" style="stroke:#A80036;stroke-width:1.0;" width="10" x="548" y="365.4297"/><rect fill="#FFFFFF" filter="url(#fz7jbp9ns606b)" height="12" style="stroke:#A80036;stroke-width:1.0;" width="10" x="548" y="820.0938"/><rect fill="#FFFFFF" filter="url(#fz7jbp9ns606b)" height="12" style="stroke:#A80036;stroke-width:1.0;" width="10" x="764.5" y="438.5"/><rect fill="#FFFFFF" filter="url(#fz7jbp9ns606b)" height="12" style="stroke:#A80036;stroke-width:1.0;" width="10" x="764.5" y="562.0313"/><rect fill="#FFFFFF" filter="url(#fz7jbp9ns606b)" height="12" style="stroke:#A80036;stroke-width:1.0;" width="10" x="942" y="496.7656"/><rect fill="#FFFFFF" filter="url(#fz7jbp9ns606b)" height="12" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1047.5" y="620.2969"/><polygon fill="#A80036" points="159,52.2969,169,56.2969,159,60.2969,163,56.2969" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="0" x2="165" y1="56.2969" y2="56.2969"/><polygon fill="#A80036" points="536,81.4297,546,85.4297,536,89.4297,540,85.4297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="181" x2="542" y1="85.4297" y2="85.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="329" x="188" y="80.3638">Отримати існуючий SignUserFormDataDto об'єкт</text><path d="M3,100.4297 L67,100.4297 L67,107.4297 L57,117.4297 L3,117.4297 L3,100.4297 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="785.9297" style="stroke:#000000;stroke-width:2.0;" width="1087" x="3" y="100.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="18" y="113.4966">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="263" x="82" y="112.6401">[Об'єкт SignUserFormDataDto знайдено]</text><polygon fill="#A80036" points="192,117.5625,182,121.5625,192,125.5625,188,121.5625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="186" x2="547" y1="121.5625" y2="121.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="271" x="198" y="134.6294">Знайдений об'єкт SignUserFormDataDto</text><polygon fill="#A80036" points="11,146.6953,1,150.6953,11,154.6953,7,150.6953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="5" x2="170" y1="150.6953" y2="150.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145" x="17" y="163.7622">SignUserFormDataDto</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="3" x2="1090" y1="176.8281" y2="176.8281"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="283" x="8" y="187.0386">[Об'єкт SignUserFormDataDto не знайдено]</text><polygon fill="#A80036" points="192,190.6328,182,194.6328,192,198.6328,188,194.6328" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="186" x2="552" y1="194.6328" y2="194.6328"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="22" x="198" y="207.6997">null</text><polygon fill="#A80036" points="536,236.8984,546,240.8984,536,244.8984,540,240.8984" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="181" x2="542" y1="240.8984" y2="240.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="295" x="188" y="235.8325">Отримати ідентифікатор стартової форми</text><polygon fill="#A80036" points="192,248.8984,182,252.8984,192,256.8984,188,252.8984" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="186" x2="552" y1="252.8984" y2="252.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="198" y="265.9653">Ідентифікатор</text><line style="stroke:#A80036;stroke-width:1.0;" x1="181" x2="223" y1="299.1641" y2="299.1641"/><line style="stroke:#A80036;stroke-width:1.0;" x1="223" x2="223" y1="299.1641" y2="312.1641"/><line style="stroke:#A80036;stroke-width:1.0;" x1="182" x2="223" y1="312.1641" y2="312.1641"/><polygon fill="#A80036" points="192,308.1641,182,312.1641,192,316.1641,188,312.1641" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="277" x="188" y="294.0981">Визначити тип елемента бізнес-процесу</text><path d="M18.5,327.1641 L82.5,327.1641 L82.5,334.1641 L72.5,344.1641 L18.5,344.1641 L18.5,327.1641 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="206.7344" style="stroke:#000000;stroke-width:2.0;" width="1006.5" x="18.5" y="327.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="33.5" y="340.231">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="184" x="97.5" y="339.3745">[Елемент - стартова форма]</text><polygon fill="#A80036" points="536,361.4297,546,365.4297,536,369.4297,540,365.4297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="181" x2="542" y1="365.4297" y2="365.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="284" x="188" y="360.3638">Отримати цеф ключ з відповідної змінної</text><polygon fill="#A80036" points="192,373.4297,182,377.4297,192,381.4297,188,377.4297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="186" x2="552" y1="377.4297" y2="377.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="198" y="390.4966">Цеф ключ</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="18.5" x2="1025" y1="403.5625" y2="403.5625"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="225" x="23.5" y="413.7729">[Елемент - користувацька задача]</text><polygon fill="#A80036" points="752.5,434.5,762.5,438.5,752.5,442.5,756.5,438.5" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="181" x2="758.5" y1="438.5" y2="438.5"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="240" x="188" y="433.4341">Отримати бін типу CephKeyProvider</text><polygon fill="#A80036" points="192,446.5,182,450.5,192,454.5,188,450.5" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="186" x2="768.5" y1="450.5" y2="450.5"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168" x="198" y="463.5669">Бін типу CephKeyProvider</text><polygon fill="#A80036" points="930,492.7656,940,496.7656,930,500.7656,934,496.7656" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="181" x2="936" y1="496.7656" y2="496.7656"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159" x="188" y="491.6997">Згенерувати цеф ключ</text><polygon fill="#A80036" points="192,504.7656,182,508.7656,192,512.7656,188,508.7656" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="186" x2="946" y1="508.7656" y2="508.7656"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167" x="198" y="521.8325">Згенерований цеф ключ</text><polygon fill="#A80036" points="752.5,558.0313,762.5,562.0313,752.5,566.0313,756.5,562.0313" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="181" x2="758.5" y1="562.0313" y2="562.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="276" x="188" y="556.9653">Отримати бін типу FormDataCephService</text><polygon fill="#A80036" points="192,570.0313,182,574.0313,192,578.0313,188,574.0313" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="186" x2="768.5" y1="574.0313" y2="574.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="204" x="198" y="587.0981">Бін типу FormDataCephService</text><polygon fill="#A80036" points="1035.5,616.2969,1045.5,620.2969,1035.5,624.2969,1039.5,620.2969" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="181" x2="1041.5" y1="620.2969" y2="620.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="554" x="188" y="615.231">Отримати цеф документ, який містить дані форми з цефу за отриманим ключем</text><polygon fill="#A80036" points="192,628.2969,182,632.2969,192,636.2969,188,632.2969" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="186" x2="1051.5" y1="632.2969" y2="632.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="278" x="198" y="645.3638">Цеф документ, який містить дані форми</text><line style="stroke:#A80036;stroke-width:1.0;" x1="181" x2="223" y1="678.5625" y2="678.5625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="223" x2="223" y1="678.5625" y2="691.5625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="182" x2="223" y1="691.5625" y2="691.5625"/><polygon fill="#A80036" points="192,687.5625,182,691.5625,192,695.5625,188,691.5625" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="272" x="188" y="673.4966">Отримати дані форми з цеф документа</text><line style="stroke:#A80036;stroke-width:1.0;" x1="181" x2="223" y1="720.6953" y2="720.6953"/><line style="stroke:#A80036;stroke-width:1.0;" x1="223" x2="223" y1="720.6953" y2="733.6953"/><line style="stroke:#A80036;stroke-width:1.0;" x1="182" x2="223" y1="733.6953" y2="733.6953"/><polygon fill="#A80036" points="192,729.6953,182,733.6953,192,737.6953,188,733.6953" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="239" x="188" y="715.6294">Отримати підпис з цеф документа</text><line style="stroke:#A80036;stroke-width:1.0;" x1="181" x2="223" y1="762.8281" y2="762.8281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="223" x2="223" y1="762.8281" y2="775.8281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="182" x2="223" y1="775.8281" y2="775.8281"/><polygon fill="#A80036" points="192,771.8281,182,775.8281,192,779.8281,188,775.8281" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="270" x="188" y="757.7622">Збудувати об'єкт SignUserFormDataDto</text><polygon fill="#A80036" points="536,816.0938,546,820.0938,536,824.0938,540,820.0938" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="181" x2="542" y1="820.0938" y2="820.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="344" x="188" y="799.895">Зберегти SignUserFormDataDto об'єкт у контексті</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166" x="188" y="815.0278">у якості transient змінної</text><polygon fill="#A80036" points="192,828.0938,182,832.0938,192,836.0938,188,832.0938" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="186" x2="552" y1="832.0938" y2="832.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="198" y="845.1606">Збережено</text><polygon fill="#A80036" points="11,857.2266,1,861.2266,11,865.2266,7,861.2266" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="5" x2="175" y1="861.2266" y2="861.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145" x="17" y="874.2935">SignUserFormDataDto</text><!--MD5=[c500512ad22792f3d9a8f0218e3ee799]
@startuml
skinparam responseMessageBelowArrow true

  participant "sign_submission(<activity_id|event_id>)" as sign_submission order 10
  participant "Camunda Execution Context" as camunda order 20
  participant "Spring Application Context" as spring order 30
  participant "CephKeyProvider" as ceph_key_provider order 40
  participant "Ceph" as ceph order 50

  -> sign_submission
  activate sign_submission

  sign_submission -> camunda : Отримати існуючий SignUserFormDataDto об'єкт
  activate camunda

  alt Об'єкт SignUserFormDataDto знайдено
    sign_submission <- - camunda : Знайдений об'єкт SignUserFormDataDto
    <- - sign_submission : SignUserFormDataDto

  else Об'єкт SignUserFormDataDto не знайдено
    sign_submission <- - camunda : null
    deactivate camunda

    sign_submission -> camunda : Отримати ідентифікатор стартової форми
      activate camunda
      sign_submission <- - camunda : Ідентифікатор
      deactivate camunda

    sign_submission -> sign_submission : Визначити тип елемента бізнес-процесу
    alt Елемент - стартова форма
      sign_submission -> camunda : Отримати цеф ключ з відповідної змінної
      activate camunda
      sign_submission <- - camunda : Цеф ключ
      deactivate camunda
    else Елемент - користувацька задача
      sign_submission -> spring : Отримати бін типу CephKeyProvider
      activate spring
      sign_submission <- - spring : Бін типу CephKeyProvider
      deactivate spring

      sign_submission -> ceph_key_provider : Згенерувати цеф ключ
      activate ceph_key_provider
      sign_submission <- - ceph_key_provider : Згенерований цеф ключ
      deactivate ceph_key_provider
    end

    sign_submission -> spring : Отримати бін типу FormDataCephService
      activate spring
      sign_submission <- - spring : Бін типу FormDataCephService
      deactivate spring

    sign_submission -> ceph : Отримати цеф документ, який містить дані форми з цефу за отриманим ключем
      activate ceph
      sign_submission <- - ceph : Цеф документ, який містить дані форми
      deactivate ceph

    sign_submission -> sign_submission : Отримати дані форми з цеф документа
    sign_submission -> sign_submission : Отримати підпис з цеф документа
    sign_submission -> sign_submission : Збудувати об'єкт SignUserFormDataDto

    sign_submission -> camunda : Зберегти SignUserFormDataDto об'єкт у контексті \nу якості transient змінної
      activate camunda
      sign_submission <- - camunda : Збережено
      deactivate camunda

      <- - sign_submission : SignUserFormDataDto
      deactivate sign_submission
  end
@enduml

PlantUML version 1.2021.7(Sun May 23 12:40:07 UTC 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>