<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="2103px" preserveAspectRatio="none" style="width:2877px;height:2103px;background:#FFFFFF;" version="1.1" viewBox="0 0 2877 2103" width="2877px" zoomAndPan="magnify"><defs><filter height="300%" id="fzt2xl2bm969q" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="775" x="1053.75" y="28.708">Завантаження та використання файлів в рамках виконання задач користувачів</text><rect fill="#FFFFFF" filter="url(#fzt2xl2bm969q)" height="567.3203" style="stroke:#383838;stroke-width:1.0;" width="10" x="414.5" y="227.7813"/><rect fill="#FFFFFF" filter="url(#fzt2xl2bm969q)" height="1177.1719" style="stroke:#383838;stroke-width:1.0;" width="10" x="414.5" y="824.2344"/><rect fill="#FFFFFF" filter="url(#fzt2xl2bm969q)" height="448.5234" style="stroke:#383838;stroke-width:1.0;" width="10" x="862.5" y="317.4453"/><rect fill="#FFFFFF" filter="url(#fzt2xl2bm969q)" height="900.3125" style="stroke:#383838;stroke-width:1.0;" width="10" x="862.5" y="1101.0938"/><rect fill="#FFFFFF" filter="url(#fzt2xl2bm969q)" height="840.9141" style="stroke:#383838;stroke-width:1.0;" width="10" x="1849.5" y="1160.4922"/><rect fill="#FFFFFF" filter="url(#fzt2xl2bm969q)" height="391.2578" style="stroke:#383838;stroke-width:1.0;" width="10" x="2174.5" y="1581.0156"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="50" x2="50" y1="123.25" y2="2019.4063"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="419" x2="419" y1="123.25" y2="2019.4063"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="867.5" x2="867.5" y1="123.25" y2="2019.4063"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1302.5" x2="1302.5" y1="123.25" y2="2019.4063"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1641.5" x2="1641.5" y1="123.25" y2="2019.4063"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1854.5" x2="1854.5" y1="123.25" y2="2019.4063"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2179.5" x2="2179.5" y1="123.25" y2="2019.4063"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2592" x2="2592" y1="123.25" y2="2019.4063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="5" y="119.9482">Користувач</text><ellipse cx="50.5" cy="49.9531" fill="#F8F8F8" filter="url(#fzt2xl2bm969q)" rx="8" ry="8" style="stroke:#383838;stroke-width:2.0;"/><path d="M50.5,57.9531 L50.5,84.9531 M37.5,65.9531 L63.5,65.9531 M50.5,84.9531 L37.5,99.9531 M50.5,84.9531 L63.5,99.9531 " fill="none" filter="url(#fzt2xl2bm969q)" style="stroke:#383838;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="5" y="2031.4014">Користувач</text><ellipse cx="50.5" cy="2044.7031" fill="#F8F8F8" filter="url(#fzt2xl2bm969q)" rx="8" ry="8" style="stroke:#383838;stroke-width:2.0;"/><path d="M50.5,2052.7031 L50.5,2079.7031 M37.5,2060.7031 L63.5,2060.7031 M50.5,2079.7031 L37.5,2094.7031 M50.5,2079.7031 L63.5,2094.7031 " fill="none" filter="url(#fzt2xl2bm969q)" style="stroke:#383838;stroke-width:2.0;"/><rect fill="#F8F8F8" filter="url(#fzt2xl2bm969q)" height="46.5938" style="stroke:#383838;stroke-width:1.5;" width="175" x="330" y="71.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157" x="339" y="91.6514">Клієнтський додаток</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157" x="341" y="107.9482">кабінету користувача</text><rect fill="#F8F8F8" filter="url(#fzt2xl2bm969q)" height="46.5938" style="stroke:#383838;stroke-width:1.5;" width="175" x="330" y="2018.4063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157" x="339" y="2038.4014">Клієнтський додаток</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157" x="341" y="2054.6982">кабінету користувача</text><rect fill="#F8F8F8" filter="url(#fzt2xl2bm969q)" height="46.5938" style="stroke:#383838;stroke-width:1.5;" width="130" x="800.5" y="71.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="845.5" y="91.6514">Kong</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="807.5" y="107.9482">API Management</text><rect fill="#F8F8F8" filter="url(#fzt2xl2bm969q)" height="46.5938" style="stroke:#383838;stroke-width:1.5;" width="130" x="800.5" y="2018.4063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="845.5" y="2038.4014">Kong</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="807.5" y="2054.6982">API Management</text><rect fill="#F8F8F8" filter="url(#fzt2xl2bm969q)" height="46.5938" style="stroke:#383838;stroke-width:1.5;" width="174" x="1213.5" y="71.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="1275" y="91.6514">Сервіс</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="160" x="1220.5" y="107.9482">цифрових документів</text><rect fill="#F8F8F8" filter="url(#fzt2xl2bm969q)" height="46.5938" style="stroke:#383838;stroke-width:1.5;" width="174" x="1213.5" y="2018.4063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="1275" y="2038.4014">Сервіс</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="160" x="1220.5" y="2054.6982">цифрових документів</text><rect fill="#F8F8F8" filter="url(#fzt2xl2bm969q)" height="46.5938" style="stroke:#383838;stroke-width:1.5;" width="216" x="1531.5" y="71.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="1550" y="91.6514">Об'єктне сховище Ceph</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="202" x="1538.5" y="107.9482">(бакет: lowcode-file-storage)</text><rect fill="#F8F8F8" filter="url(#fzt2xl2bm969q)" height="46.5938" style="stroke:#383838;stroke-width:1.5;" width="216" x="1531.5" y="2018.4063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="1550" y="2038.4014">Об'єктне сховище Ceph</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="202" x="1538.5" y="2054.6982">(бакет: lowcode-file-storage)</text><rect fill="#F8F8F8" filter="url(#fzt2xl2bm969q)" height="46.5938" style="stroke:#383838;stroke-width:1.5;" width="182" x="1761.5" y="71.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="1785.5" y="91.6514">Сервіс управління</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="164" x="1772.5" y="107.9482">задачами користувача</text><rect fill="#F8F8F8" filter="url(#fzt2xl2bm969q)" height="46.5938" style="stroke:#383838;stroke-width:1.5;" width="182" x="1761.5" y="2018.4063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="1785.5" y="2038.4014">Сервіс управління</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="164" x="1772.5" y="2054.6982">задачами користувача</text><rect fill="#F8F8F8" filter="url(#fzt2xl2bm969q)" height="30.2969" style="stroke:#383838;stroke-width:1.5;" width="262" x="2046.5" y="87.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="248" x="2053.5" y="107.9482">Сервіс виконання бізнес-процесів</text><rect fill="#F8F8F8" filter="url(#fzt2xl2bm969q)" height="30.2969" style="stroke:#383838;stroke-width:1.5;" width="262" x="2046.5" y="2018.4063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="248" x="2053.5" y="2038.4014">Сервіс виконання бізнес-процесів</text><rect fill="#F8F8F8" filter="url(#fzt2xl2bm969q)" height="46.5938" style="stroke:#383838;stroke-width:1.5;" width="263" x="2459" y="71.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="2501" y="91.6514">Об'єктне сховище Ceph</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="249" x="2466" y="107.9482">(бакет: lowcode-form-data-storage)</text><rect fill="#F8F8F8" filter="url(#fzt2xl2bm969q)" height="46.5938" style="stroke:#383838;stroke-width:1.5;" width="263" x="2459" y="2018.4063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="2501" y="2038.4014">Об'єктне сховище Ceph</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="249" x="2466" y="2054.6982">(бакет: lowcode-form-data-storage)</text><rect fill="#FFFFFF" filter="url(#fzt2xl2bm969q)" height="567.3203" style="stroke:#383838;stroke-width:1.0;" width="10" x="414.5" y="227.7813"/><rect fill="#FFFFFF" filter="url(#fzt2xl2bm969q)" height="1177.1719" style="stroke:#383838;stroke-width:1.0;" width="10" x="414.5" y="824.2344"/><rect fill="#FFFFFF" filter="url(#fzt2xl2bm969q)" height="448.5234" style="stroke:#383838;stroke-width:1.0;" width="10" x="862.5" y="317.4453"/><rect fill="#FFFFFF" filter="url(#fzt2xl2bm969q)" height="900.3125" style="stroke:#383838;stroke-width:1.0;" width="10" x="862.5" y="1101.0938"/><rect fill="#FFFFFF" filter="url(#fzt2xl2bm969q)" height="840.9141" style="stroke:#383838;stroke-width:1.0;" width="10" x="1849.5" y="1160.4922"/><rect fill="#FFFFFF" filter="url(#fzt2xl2bm969q)" height="391.2578" style="stroke:#383838;stroke-width:1.0;" width="10" x="2174.5" y="1581.0156"/><polygon fill="#383838" points="407.5,165.5156,417.5,169.5156,407.5,173.5156,411.5,169.5156" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="50.5" x2="413.5" y1="169.5156" y2="169.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199" x="57.5" y="149.3169">Перехід до виконання задачі</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="324" x="57.5" y="164.4497">додавання файлових вкладень через UI-форму</text><polygon fill="#383838" points="61.5,179.5156,51.5,183.5156,61.5,187.5156,57.5,183.5156" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="55.5" x2="418.5" y1="183.5156" y2="183.5156"/><polygon fill="#383838" points="402.5,223.7813,412.5,227.7813,402.5,231.7813,406.5,227.7813" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="50.5" x2="408.5" y1="227.7813" y2="227.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="242" x="57.5" y="207.5825">Завантаження файлових вкладень</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="290" x="61.5" y="222.7153">через окрему UI-компоненту форми задачі</text><polygon fill="#383838" points="850.5,313.4453,860.5,317.4453,850.5,321.4453,854.5,317.4453" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="424.5" x2="856.5" y1="317.4453" y2="317.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216" x="431.5" y="251.8481">Запит на завантаження файлу:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="402" x="431.5" y="266.981">POST "/documents/{processInstanceId}/{taskId}/{fieldName}"</text><ellipse cx="437" cy="277.6797" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174" x="442.5" y="282.1138">Ідентифікатор сесії Kong;</text><ellipse cx="437" cy="292.8125" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156" x="442.5" y="297.2466">Мета-атрибути файлу;</text><ellipse cx="437" cy="307.9453" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172" x="442.5" y="312.3794">Бінарний контент файлу;</text><polygon fill="#383838" points="1290.5,403.1094,1300.5,407.1094,1290.5,411.1094,1294.5,407.1094" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="872.5" x2="1296.5" y1="407.1094" y2="407.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216" x="879.5" y="341.5122">Запит на завантаження файлу:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="402" x="879.5" y="356.645">POST "/documents/{processInstanceId}/{taskId}/{fieldName}"</text><ellipse cx="885" cy="367.3438" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="890.5" y="371.7778">X-Access-Token;</text><ellipse cx="885" cy="382.4766" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156" x="890.5" y="386.9106">Мета-атрибути файлу;</text><ellipse cx="885" cy="397.6094" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172" x="890.5" y="402.0435">Бінарний контент файлу;</text><line style="stroke:#383838;stroke-width:1.0;" x1="1302.5" x2="1344.5" y1="436.2422" y2="436.2422"/><line style="stroke:#383838;stroke-width:1.0;" x1="1344.5" x2="1344.5" y1="436.2422" y2="449.2422"/><line style="stroke:#383838;stroke-width:1.0;" x1="1303.5" x2="1344.5" y1="449.2422" y2="449.2422"/><polygon fill="#383838" points="1313.5,445.2422,1303.5,449.2422,1313.5,453.2422,1309.5,449.2422" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="303" x="1309.5" y="431.1763">Авторизація доступу до виконання операції</text><line style="stroke:#383838;stroke-width:1.0;" x1="1302.5" x2="1344.5" y1="478.375" y2="478.375"/><line style="stroke:#383838;stroke-width:1.0;" x1="1344.5" x2="1344.5" y1="478.375" y2="491.375"/><line style="stroke:#383838;stroke-width:1.0;" x1="1303.5" x2="1344.5" y1="491.375" y2="491.375"/><polygon fill="#383838" points="1313.5,487.375,1303.5,491.375,1313.5,495.375,1309.5,491.375" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="223" x="1309.5" y="473.3091">Валідація цифрового документу</text><line style="stroke:#383838;stroke-width:1.0;" x1="1302.5" x2="1344.5" y1="520.5078" y2="520.5078"/><line style="stroke:#383838;stroke-width:1.0;" x1="1344.5" x2="1344.5" y1="520.5078" y2="533.5078"/><line style="stroke:#383838;stroke-width:1.0;" x1="1303.5" x2="1344.5" y1="533.5078" y2="533.5078"/><polygon fill="#383838" points="1313.5,529.5078,1303.5,533.5078,1313.5,537.5078,1309.5,533.5078" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="235" x="1309.5" y="515.4419">Підготовка цифрового документу</text><polygon fill="#383838" points="1629.5,573.7734,1639.5,577.7734,1629.5,581.7734,1633.5,577.7734" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="1302.5" x2="1635.5" y1="577.7734" y2="577.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="242" x="1309.5" y="557.5747">Збереження цифрового документу</text><ellipse cx="1315" cy="568.2734" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="304" x="1320.5" y="572.7075">Ключ: &lt;process/{processInstanceId}/{UUID}&gt;</text><polygon fill="#383838" points="1313.5,587.7734,1303.5,591.7734,1313.5,595.7734,1309.5,591.7734" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1307.5" x2="1640.5" y1="591.7734" y2="591.7734"/><polygon fill="#383838" points="883.5,674.8711,873.5,678.8711,883.5,682.8711,879.5,678.8711" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="877.5" x2="1301.5" y1="678.8711" y2="678.8711"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="358" x="889.5" y="673.8052">Повернення мета-даних новоствореного документу</text><path d="M330,604.7734 L330,735.7734 L853,735.7734 L853,614.7734 L843,604.7734 L330,604.7734 " fill="#EBEBEB" filter="url(#fzt2xl2bm969q)" style="stroke:#383838;stroke-width:1.0;"/><path d="M843,604.7734 L843,614.7734 L853,614.7734 L843,604.7734 " fill="#EBEBEB" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="336" y="621.8403">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="352" y="636.9731">"id": "{UUID}",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140" x="352" y="652.106">"name": "{filename}",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="352" y="667.2388">"type:": "{mime-type}",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="352" y="682.3716">"size": 1000,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="352" y="697.5044">"checksum": "{sha256-hash}",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="486" x="352" y="712.6372">"url": "https://.../documents/{processInstanceId}/{taskId}/{fieldName}/{id}"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="336" y="727.77">}</text><polygon fill="#383838" points="435.5,761.9688,425.5,765.9688,435.5,769.9688,431.5,765.9688" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="429.5" x2="866.5" y1="765.9688" y2="765.9688"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="358" x="441.5" y="760.9028">Повернення мета-даних новоствореного документу</text><polygon fill="#383838" points="61.5,791.1016,51.5,795.1016,61.5,799.1016,57.5,795.1016" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="55.5" x2="418.5" y1="795.1016" y2="795.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="249" x="67.5" y="790.0356">Повернення управління користувачу</text><polygon fill="#383838" points="402.5,820.2344,412.5,824.2344,402.5,828.2344,406.5,824.2344" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="50.5" x2="408.5" y1="824.2344" y2="824.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="345" x="57.5" y="819.1685">Підтвердження виконання задачі внесення даних</text><line style="stroke:#383838;stroke-width:1.0;" x1="424.5" x2="466.5" y1="853.3672" y2="853.3672"/><line style="stroke:#383838;stroke-width:1.0;" x1="466.5" x2="466.5" y1="853.3672" y2="866.3672"/><line style="stroke:#383838;stroke-width:1.0;" x1="425.5" x2="466.5" y1="866.3672" y2="866.3672"/><polygon fill="#383838" points="435.5,862.3672,425.5,866.3672,435.5,870.3672,431.5,866.3672" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="237" x="431.5" y="848.3013">Клієнтська валідація даних форми</text><line style="stroke:#383838;stroke-width:1.0;" x1="424.5" x2="466.5" y1="969.6641" y2="969.6641"/><line style="stroke:#383838;stroke-width:1.0;" x1="466.5" x2="466.5" y1="969.6641" y2="982.6641"/><line style="stroke:#383838;stroke-width:1.0;" x1="425.5" x2="466.5" y1="982.6641" y2="982.6641"/><polygon fill="#383838" points="435.5,978.6641,425.5,982.6641,435.5,986.6641,431.5,982.6641" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="376" x="431.5" y="949.4653">Приведення значень полів типу "File" згідно контракту</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="225" x="431.5" y="964.5981">взаємодії з серверним додатком</text><path d="M155,879.3672 L155,1040.3672 L405,1040.3672 L405,889.3672 L395,879.3672 L155,879.3672 " fill="#EBEBEB" filter="url(#fzt2xl2bm969q)" style="stroke:#383838;stroke-width:1.0;"/><path d="M395,879.3672 L395,889.3672 L405,889.3672 L395,879.3672 " fill="#EBEBEB" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="161" y="896.4341">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55" x="169" y="911.5669">"data": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168" x="177" y="926.6997">"&lt;file_property_name&gt;": [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="185" y="941.8325">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="193" y="956.9653">"id": "{UUID}",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197" x="193" y="972.0981">"checksum": "{SHA256-hash}"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="185" y="987.231">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="177" y="1002.3638">]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="169" y="1017.4966">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="161" y="1032.6294">}</text><polygon fill="#383838" points="850.5,1097.0938,860.5,1101.0938,850.5,1105.0938,854.5,1101.0938" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="424.5" x2="856.5" y1="1101.0938" y2="1101.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="415" x="431.5" y="1065.7622">Підтвердження виконання задачі: POST "/task/{id}/complete"</text><ellipse cx="437" cy="1076.4609" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="442.5" y="1080.895">Ідентифікатор сесії Kong</text><ellipse cx="437" cy="1091.5938" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="375" x="442.5" y="1096.0278">Дані форми з Ceph-посиланнями на файлові вкладення</text><polygon fill="#383838" points="1837.5,1156.4922,1847.5,1160.4922,1837.5,1164.4922,1841.5,1160.4922" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="872.5" x2="1843.5" y1="1160.4922" y2="1160.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="415" x="879.5" y="1125.1606">Підтвердження виконання задачі: POST "/task/{id}/complete"</text><ellipse cx="885" cy="1135.8594" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="890.5" y="1140.2935">X-Access-Token</text><ellipse cx="885" cy="1150.9922" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="375" x="890.5" y="1155.4263">Дані форми з Ceph-посиланнями на файлові вкладення</text><line style="stroke:#383838;stroke-width:1.0;" x1="1859.5" x2="1901.5" y1="1204.7578" y2="1204.7578"/><line style="stroke:#383838;stroke-width:1.0;" x1="1901.5" x2="1901.5" y1="1204.7578" y2="1217.7578"/><line style="stroke:#383838;stroke-width:1.0;" x1="1860.5" x2="1901.5" y1="1217.7578" y2="1217.7578"/><polygon fill="#383838" points="1870.5,1213.7578,1860.5,1217.7578,1870.5,1221.7578,1866.5,1217.7578" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="275" x="1866.5" y="1184.5591">Перевірка відповідності Assignee задачі</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163" x="1870.5" y="1199.6919">поточному користувачу</text><line style="stroke:#383838;stroke-width:1.0;" x1="1859.5" x2="1901.5" y1="1262.0234" y2="1262.0234"/><line style="stroke:#383838;stroke-width:1.0;" x1="1901.5" x2="1901.5" y1="1262.0234" y2="1275.0234"/><line style="stroke:#383838;stroke-width:1.0;" x1="1860.5" x2="1901.5" y1="1275.0234" y2="1275.0234"/><polygon fill="#383838" points="1870.5,1271.0234,1860.5,1275.0234,1870.5,1279.0234,1866.5,1275.0234" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202" x="1866.5" y="1241.8247">Встановлення X-Access-Token</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="235" x="1866.5" y="1256.9575">для JSON-документа даних форми</text><line style="stroke:#383838;stroke-width:1.0;" x1="1859.5" x2="1901.5" y1="1334.4219" y2="1334.4219"/><line style="stroke:#383838;stroke-width:1.0;" x1="1901.5" x2="1901.5" y1="1334.4219" y2="1347.4219"/><line style="stroke:#383838;stroke-width:1.0;" x1="1860.5" x2="1901.5" y1="1347.4219" y2="1347.4219"/><polygon fill="#383838" points="1870.5,1343.4219,1860.5,1347.4219,1870.5,1351.4219,1866.5,1347.4219" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="297" x="1866.5" y="1299.0903">Генерація ідентифікатора Ceph-документа</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="246" x="1866.5" y="1314.2231">для подальшого збереження даних</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="243" x="1866.5" y="1329.356">(processInstanceId, taskDefinitionKey)</text><polygon fill="#383838" points="2580.5,1468.3516,2590.5,1472.3516,2580.5,1476.3516,2584.5,1472.3516" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="1859.5" x2="2586.5" y1="1472.3516" y2="1472.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="294" x="1866.5" y="1437.02">Збереження JSON-документа даних форми</text><ellipse cx="1872" cy="1447.7188" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="1877.5" y="1452.1528">Назва документа</text><ellipse cx="1872" cy="1462.8516" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="295" x="1877.5" y="1467.2856">JSON-документ даних форми з UUID файлів</text><path d="M2597,1360.4219 L2597,1536.4219 L2868,1536.4219 L2868,1370.4219 L2858,1360.4219 L2597,1360.4219 " fill="#EBEBEB" filter="url(#fzt2xl2bm969q)" style="stroke:#383838;stroke-width:1.0;"/><path d="M2858,1360.4219 L2858,1370.4219 L2868,1370.4219 L2858,1360.4219 " fill="#EBEBEB" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2603" y="1377.4888">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55" x="2611" y="1392.6216">"data": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168" x="2619" y="1407.7544">"&lt;file_property_name&gt;": [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2627" y="1422.8872">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="2635" y="1438.02">"id": "{UUID}",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197" x="2635" y="1453.1528">"checksum": "{SHA256-hash}"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2627" y="1468.2856">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="2619" y="1483.4185">]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="12" x="2611" y="1498.5513">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="242" x="2611" y="1513.6841">"x-access-token": "{X-Access-Token}"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2603" y="1528.8169">}</text><polygon fill="#383838" points="1870.5,1547.8828,1860.5,1551.8828,1870.5,1555.8828,1866.5,1551.8828" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1864.5" x2="2591.5" y1="1551.8828" y2="1551.8828"/><polygon fill="#383838" points="2162.5,1577.0156,2172.5,1581.0156,2162.5,1585.0156,2166.5,1581.0156" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="1859.5" x2="2168.5" y1="1581.0156" y2="1581.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="233" x="1866.5" y="1575.9497">Підтвердження виконання задачі</text><polygon fill="#383838" points="2580.5,1621.2813,2590.5,1625.2813,2580.5,1629.2813,2584.5,1625.2813" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="2184.5" x2="2586.5" y1="1625.2813" y2="1625.2813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="303" x="2191.5" y="1605.0825">Отримання JSON-документа даних UI-форми</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="185" x="2191.5" y="1620.2153">за ідентифікатором задачі</text><polygon fill="#383838" points="2195.5,1650.4141,2185.5,1654.4141,2195.5,1658.4141,2191.5,1654.4141" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2189.5" x2="2591.5" y1="1654.4141" y2="1654.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201" x="2201.5" y="1649.3481">JSON документ з UUID файлів</text><line style="stroke:#383838;stroke-width:1.0;" x1="2184.5" x2="2226.5" y1="1698.6797" y2="1698.6797"/><line style="stroke:#383838;stroke-width:1.0;" x1="2226.5" x2="2226.5" y1="1698.6797" y2="1711.6797"/><line style="stroke:#383838;stroke-width:1.0;" x1="2185.5" x2="2226.5" y1="1711.6797" y2="1711.6797"/><polygon fill="#383838" points="2195.5,1707.6797,2185.5,1711.6797,2195.5,1715.6797,2191.5,1711.6797" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="385" x="2191.5" y="1678.481">Підготовка даних для попереднього заповнення форми</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="331" x="2191.5" y="1693.6138">наступної задачі перегляду файлових вкладень</text><polygon fill="#383838" points="2580.5,1817.4766,2590.5,1821.4766,2580.5,1825.4766,2584.5,1821.4766" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="2184.5" x2="2586.5" y1="1821.4766" y2="1821.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="312" x="2191.5" y="1801.2778">Збереження JSON-документа даних UI-форми</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="2191.5" y="1816.4106">для наступної задачи</text><path d="M2597,1724.6797 L2597,1885.6797 L2847,1885.6797 L2847,1734.6797 L2837,1724.6797 L2597,1724.6797 " fill="#EBEBEB" filter="url(#fzt2xl2bm969q)" style="stroke:#383838;stroke-width:1.0;"/><path d="M2837,1724.6797 L2837,1734.6797 L2847,1734.6797 L2837,1724.6797 " fill="#EBEBEB" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2603" y="1741.7466">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55" x="2611" y="1756.8794">"data": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168" x="2619" y="1772.0122">"&lt;file_property_name&gt;": [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2627" y="1787.145">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="2635" y="1802.2778">"id": "{UUID}",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197" x="2635" y="1817.4106">"checksum": "{SHA256-hash}"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2627" y="1832.5435">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="2619" y="1847.6763">]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2611" y="1862.8091">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2603" y="1877.9419">}</text><polygon fill="#383838" points="2195.5,1897.0078,2185.5,1901.0078,2195.5,1905.0078,2191.5,1901.0078" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2189.5" x2="2591.5" y1="1901.0078" y2="1901.0078"/><line style="stroke:#383838;stroke-width:1.0;" x1="2184.5" x2="2226.5" y1="1930.1406" y2="1930.1406"/><line style="stroke:#383838;stroke-width:1.0;" x1="2226.5" x2="2226.5" y1="1930.1406" y2="1943.1406"/><line style="stroke:#383838;stroke-width:1.0;" x1="2185.5" x2="2226.5" y1="1943.1406" y2="1943.1406"/><polygon fill="#383838" points="2195.5,1939.1406,2185.5,1943.1406,2195.5,1947.1406,2191.5,1943.1406" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="348" x="2191.5" y="1925.0747">Перехід до очікування виконання наступної задачі</text><polygon fill="#383838" points="1870.5,1968.2734,1860.5,1972.2734,1870.5,1976.2734,1866.5,1972.2734" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1864.5" x2="2178.5" y1="1972.2734" y2="1972.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159" x="1876.5" y="1967.2075">Повернення управління</text><polygon fill="#383838" points="61.5,1997.4063,51.5,2001.4063,61.5,2005.4063,57.5,2001.4063" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="55.5" x2="1853.5" y1="2001.4063" y2="2001.4063"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="249" x="67.5" y="1996.3403">Повернення управління користувачу</text><!--MD5=[815721c5b7bec799979beeac5d38d259]
@startuml
skinparam monochrome true

actor "Користувач" as user
participant "Клієнтський додаток\n кабінету користувача" as cabinet
participant "Kong \nAPI Management" as kong
participant "Сервіс \nцифрових документів" as digital_documents
participant "Об'єктне сховище Ceph \n(бакет: lowcode-file-storage)" as file_storage_ceph
participant "Сервіс управління \n задачами користувача" as user_task_mngmnt
participant "Сервіс виконання бізнес-процесів" as bpms
participant "Об'єктне сховище Ceph \n(бакет: lowcode-form-data-storage)" as form_data_ceph

skinparam responseMessageBelowArrow false
title Завантаження та використання файлів в рамках виконання задач користувачів

user -> cabinet: Перехід до виконання задачі \nдодавання файлових вкладень через UI-форму
return

user -> cabinet: Завантаження файлових вкладень\n через окрему UI-компоненту форми задачі
activate cabinet
  cabinet -> kong: Запит на завантаження файлу: \nPOST "/documents/{processInstanceId}/{taskId}/{fieldName}" \n* Ідентифікатор сесії Kong; \n* Мета-атрибути файлу; \n* Бінарний контент файлу;
  activate kong
    kong -> digital_documents: Запит на завантаження файлу: \nPOST "/documents/{processInstanceId}/{taskId}/{fieldName}" \n* X-Access-Token; \n* Мета-атрибути файлу; \n* Бінарний контент файлу;
    digital_documents -> digital_documents: Авторизація доступу до виконання операції
    digital_documents -> digital_documents: Валідація цифрового документу
    digital_documents -> digital_documents: Підготовка цифрового документу
    digital_documents -> file_storage_ceph: Збереження цифрового документу \n* Ключ: <process/{processInstanceId}/{UUID}>
    file_storage_ceph - -> digital_documents
    digital_documents -> kong: Повернення мета-даних новоствореного документу
    note left
      {
          "id": "{UUID}",
          "name": "{filename}",
          "type:": "{mime-type}",
          "size": 1000,
          "checksum": "{sha256-hash}",
          "url": "https://.../documents/{processInstanceId}/{taskId}/{fieldName}/{id}"
      }
    end note
    kong - -> cabinet: Повернення мета-даних новоствореного документу
  deactivate kong
return Повернення управління користувачу

user -> cabinet: Підтвердження виконання задачі внесення даних
activate cabinet
  cabinet -> cabinet: Клієнтська валідація даних форми

  cabinet -> cabinet: Приведення значень полів типу "File" згідно контракту \nвзаємодії з серверним додатком
  note left
    {
      "data": {
        "<file_property_name>": [
          {
            "id": "{UUID}",
            "checksum": "{SHA256-hash}"
          }
        ]
      }
    }
  end note

  cabinet -> kong: Підтвердження виконання задачі: POST "/task/{id}/complete" \n*Ідентифікатор сесії Kong \n*Дані форми з Ceph-посиланнями на файлові вкладення
  activate kong
    kong -> user_task_mngmnt: Підтвердження виконання задачі: POST "/task/{id}/complete" \n* X-Access-Token \n*Дані форми з Ceph-посиланнями на файлові вкладення
    activate user_task_mngmnt
      user_task_mngmnt -> user_task_mngmnt: Перевірка відповідності Assignee задачі\n поточному користувачу
      user_task_mngmnt -> user_task_mngmnt: Встановлення X-Access-Token \nдля JSON-документа даних форми

      user_task_mngmnt -> user_task_mngmnt: Генерація ідентифікатора Ceph-документа \nдля подальшого збереження даних \n(processInstanceId, taskDefinitionKey)
      user_task_mngmnt -> form_data_ceph: Збереження JSON-документа даних форми \n* Назва документа \n* JSON-документ даних форми з UUID файлів
      note right
        {
          "data": {
            "<file_property_name>": [
              {
                "id": "{UUID}",
                "checksum": "{SHA256-hash}"
              }
            ]
          },
          "x-access-token": "{X-Access-Token}"
        }
      end note

      form_data_ceph - -> user_task_mngmnt

      user_task_mngmnt -> bpms: Підтвердження виконання задачі
      activate bpms
        bpms -> form_data_ceph: Отримання JSON-документа даних UI-форми \nза ідентифікатором задачі
        form_data_ceph - -> bpms: JSON документ з UUID файлів
        bpms -> bpms: Підготовка даних для попереднього заповнення форми \nнаступної задачі перегляду файлових вкладень
        bpms -> form_data_ceph: Збереження JSON-документа даних UI-форми \nдля наступної задачи
        note right
          {
            "data": {
              "<file_property_name>": [
                {
                  "id": "{UUID}",
                  "checksum": "{SHA256-hash}"
                }
              ]
            }
          }
        end note

        form_data_ceph - -> bpms
        bpms -> bpms: Перехід до очікування виконання наступної задачі
      return Повернення управління
      user_task_mngmnt - -> user: Повернення управління користувачу
    deactivate
  deactivate
deactivate
@enduml

PlantUML version 1.2021.7(Sun May 23 12:40:07 UTC 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>