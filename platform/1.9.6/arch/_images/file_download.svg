<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="2525px" preserveAspectRatio="none" style="width:3464px;height:2525px;background:#FFFFFF;" version="1.1" viewBox="0 0 3464 2525" width="3464px" zoomAndPan="magnify"><defs><filter height="300%" id="fh6s9grmgnwnh" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="735" x="1367" y="28.708">Вивантаження та перегляд файлів в рамках виконання задач користувачів</text><rect fill="#FFFFFF" filter="url(#fh6s9grmgnwnh)" height="1152.7031" style="stroke:#383838;stroke-width:1.0;" width="10" x="544.5" y="904.8984"/><rect fill="#FFFFFF" filter="url(#fh6s9grmgnwnh)" height="336.8594" style="stroke:#383838;stroke-width:1.0;" width="10" x="544.5" y="2086.7344"/><rect fill="#FFFFFF" filter="url(#fh6s9grmgnwnh)" height="553.0195" style="stroke:#383838;stroke-width:1.0;" width="10" x="1065.5" y="964.2969"/><rect fill="#FFFFFF" filter="url(#fh6s9grmgnwnh)" height="175.6289" style="stroke:#383838;stroke-width:1.0;" width="10" x="1065.5" y="1649.8125"/><rect fill="#FFFFFF" filter="url(#fh6s9grmgnwnh)" height="248.3281" style="stroke:#383838;stroke-width:1.0;" width="10" x="1065.5" y="2146.1328"/><rect fill="#FFFFFF" filter="url(#fh6s9grmgnwnh)" height="493.6211" style="stroke:#383838;stroke-width:1.0;" width="10" x="1440.5" y="1023.6953"/><rect fill="#FFFFFF" filter="url(#fh6s9grmgnwnh)" height="727.3828" style="stroke:#383838;stroke-width:1.0;" width="10" x="2146.5" y="133.25"/><rect fill="#FFFFFF" filter="url(#fh6s9grmgnwnh)" height="218.8945" style="stroke:#383838;stroke-width:1.0;" width="10" x="2595.5" y="281.0469"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="133" x2="133" y1="123.25" y2="2441.5938"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="549" x2="549" y1="123.25" y2="2441.5938"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1070.5" x2="1070.5" y1="123.25" y2="2441.5938"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1445.5" x2="1445.5" y1="123.25" y2="2441.5938"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1873.5" x2="1873.5" y1="123.25" y2="2441.5938"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2151.5" x2="2151.5" y1="123.25" y2="2441.5938"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2600" x2="2600" y1="123.25" y2="2441.5938"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2946.5" x2="2946.5" y1="123.25" y2="2441.5938"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="3199.5" x2="3199.5" y1="123.25" y2="2441.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="88" y="119.9482">Користувач</text><ellipse cx="133.5" cy="49.9531" fill="#F8F8F8" filter="url(#fh6s9grmgnwnh)" rx="8" ry="8" style="stroke:#383838;stroke-width:2.0;"/><path d="M133.5,57.9531 L133.5,84.9531 M120.5,65.9531 L146.5,65.9531 M133.5,84.9531 L120.5,99.9531 M133.5,84.9531 L146.5,99.9531 " fill="none" filter="url(#fh6s9grmgnwnh)" style="stroke:#383838;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="88" y="2453.5889">Користувач</text><ellipse cx="133.5" cy="2466.8906" fill="#F8F8F8" filter="url(#fh6s9grmgnwnh)" rx="8" ry="8" style="stroke:#383838;stroke-width:2.0;"/><path d="M133.5,2474.8906 L133.5,2501.8906 M120.5,2482.8906 L146.5,2482.8906 M133.5,2501.8906 L120.5,2516.8906 M133.5,2501.8906 L146.5,2516.8906 " fill="none" filter="url(#fh6s9grmgnwnh)" style="stroke:#383838;stroke-width:2.0;"/><rect fill="#F8F8F8" filter="url(#fh6s9grmgnwnh)" height="46.5938" style="stroke:#383838;stroke-width:1.5;" width="175" x="460" y="71.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157" x="469" y="91.6514">Клієнтський додаток</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157" x="471" y="107.9482">кабінету користувача</text><rect fill="#F8F8F8" filter="url(#fh6s9grmgnwnh)" height="46.5938" style="stroke:#383838;stroke-width:1.5;" width="175" x="460" y="2440.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157" x="469" y="2460.5889">Клієнтський додаток</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157" x="471" y="2476.8857">кабінету користувача</text><rect fill="#F8F8F8" filter="url(#fh6s9grmgnwnh)" height="46.5938" style="stroke:#383838;stroke-width:1.5;" width="130" x="1003.5" y="71.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="1048.5" y="91.6514">Kong</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="1010.5" y="107.9482">API Management</text><rect fill="#F8F8F8" filter="url(#fh6s9grmgnwnh)" height="46.5938" style="stroke:#383838;stroke-width:1.5;" width="130" x="1003.5" y="2440.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="1048.5" y="2460.5889">Kong</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="1010.5" y="2476.8857">API Management</text><rect fill="#F8F8F8" filter="url(#fh6s9grmgnwnh)" height="46.5938" style="stroke:#383838;stroke-width:1.5;" width="182" x="1352.5" y="71.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="1376.5" y="91.6514">Сервіс управління</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="164" x="1363.5" y="107.9482">задачами користувача</text><rect fill="#F8F8F8" filter="url(#fh6s9grmgnwnh)" height="46.5938" style="stroke:#383838;stroke-width:1.5;" width="182" x="1352.5" y="2440.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="1376.5" y="2460.5889">Сервіс управління</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="164" x="1363.5" y="2476.8857">задачами користувача</text><rect fill="#F8F8F8" filter="url(#fh6s9grmgnwnh)" height="46.5938" style="stroke:#383838;stroke-width:1.5;" width="174" x="1784.5" y="71.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="1846" y="91.6514">Сервіс</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="160" x="1791.5" y="107.9482">цифрових документів</text><rect fill="#F8F8F8" filter="url(#fh6s9grmgnwnh)" height="46.5938" style="stroke:#383838;stroke-width:1.5;" width="174" x="1784.5" y="2440.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="1846" y="2460.5889">Сервіс</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="160" x="1791.5" y="2476.8857">цифрових документів</text><rect fill="#F8F8F8" filter="url(#fh6s9grmgnwnh)" height="46.5938" style="stroke:#383838;stroke-width:1.5;" width="146" x="2076.5" y="71.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="2083.5" y="91.6514">Сервіс виконання</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="2091.5" y="107.9482">бізнес-процесів</text><rect fill="#F8F8F8" filter="url(#fh6s9grmgnwnh)" height="46.5938" style="stroke:#383838;stroke-width:1.5;" width="146" x="2076.5" y="2440.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="2083.5" y="2460.5889">Сервіс виконання</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="2091.5" y="2476.8857">бізнес-процесів</text><rect fill="#F8F8F8" filter="url(#fh6s9grmgnwnh)" height="30.2969" style="stroke:#383838;stroke-width:1.5;" width="119" x="2539" y="87.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105" x="2546" y="107.9482">Дата Фабрика</text><rect fill="#F8F8F8" filter="url(#fh6s9grmgnwnh)" height="30.2969" style="stroke:#383838;stroke-width:1.5;" width="119" x="2539" y="2440.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105" x="2546" y="2460.5889">Дата Фабрика</text><rect fill="#F8F8F8" filter="url(#fh6s9grmgnwnh)" height="46.5938" style="stroke:#383838;stroke-width:1.5;" width="216" x="2836.5" y="71.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="2855" y="91.6514">Об'єктне сховище Ceph</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="202" x="2843.5" y="107.9482">(бакет: lowcode-file-storage)</text><rect fill="#F8F8F8" filter="url(#fh6s9grmgnwnh)" height="46.5938" style="stroke:#383838;stroke-width:1.5;" width="216" x="2836.5" y="2440.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="2855" y="2460.5889">Об'єктне сховище Ceph</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="202" x="2843.5" y="2476.8857">(бакет: lowcode-file-storage)</text><rect fill="#F8F8F8" filter="url(#fh6s9grmgnwnh)" height="46.5938" style="stroke:#383838;stroke-width:1.5;" width="263" x="3066.5" y="71.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="3108.5" y="91.6514">Об'єктне сховище Ceph</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="249" x="3073.5" y="107.9482">(бакет: lowcode-form-data-storage)</text><rect fill="#F8F8F8" filter="url(#fh6s9grmgnwnh)" height="46.5938" style="stroke:#383838;stroke-width:1.5;" width="263" x="3066.5" y="2440.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="3108.5" y="2460.5889">Об'єктне сховище Ceph</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="249" x="3073.5" y="2476.8857">(бакет: lowcode-form-data-storage)</text><rect fill="#FFFFFF" filter="url(#fh6s9grmgnwnh)" height="1152.7031" style="stroke:#383838;stroke-width:1.0;" width="10" x="544.5" y="904.8984"/><rect fill="#FFFFFF" filter="url(#fh6s9grmgnwnh)" height="336.8594" style="stroke:#383838;stroke-width:1.0;" width="10" x="544.5" y="2086.7344"/><rect fill="#FFFFFF" filter="url(#fh6s9grmgnwnh)" height="553.0195" style="stroke:#383838;stroke-width:1.0;" width="10" x="1065.5" y="964.2969"/><rect fill="#FFFFFF" filter="url(#fh6s9grmgnwnh)" height="175.6289" style="stroke:#383838;stroke-width:1.0;" width="10" x="1065.5" y="1649.8125"/><rect fill="#FFFFFF" filter="url(#fh6s9grmgnwnh)" height="248.3281" style="stroke:#383838;stroke-width:1.0;" width="10" x="1065.5" y="2146.1328"/><rect fill="#FFFFFF" filter="url(#fh6s9grmgnwnh)" height="493.6211" style="stroke:#383838;stroke-width:1.0;" width="10" x="1440.5" y="1023.6953"/><rect fill="#FFFFFF" filter="url(#fh6s9grmgnwnh)" height="727.3828" style="stroke:#383838;stroke-width:1.0;" width="10" x="2146.5" y="133.25"/><rect fill="#FFFFFF" filter="url(#fh6s9grmgnwnh)" height="218.8945" style="stroke:#383838;stroke-width:1.0;" width="10" x="2595.5" y="281.0469"/><path d="M2085,138.25 L2085,163.25 L2665,163.25 L2665,148.25 L2655,138.25 L2085,138.25 " fill="#EBEBEB" filter="url(#fh6s9grmgnwnh)" style="stroke:#383838;stroke-width:1.0;"/><path d="M2655,138.25 L2655,148.25 L2665,148.25 L2655,138.25 " fill="#EBEBEB" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177" x="2280.25" y="155.3169">Бізнес-процес у виконанні</text><line style="stroke:#383838;stroke-width:1.0;" x1="2156.5" x2="2198.5" y1="208.6484" y2="208.6484"/><line style="stroke:#383838;stroke-width:1.0;" x1="2198.5" x2="2198.5" y1="208.6484" y2="221.6484"/><line style="stroke:#383838;stroke-width:1.0;" x1="2157.5" x2="2198.5" y1="221.6484" y2="221.6484"/><polygon fill="#383838" points="2167.5,217.6484,2157.5,221.6484,2167.5,225.6484,2163.5,221.6484" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="2163.5" y="188.4497">Підготовка даних для</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="259" x="2163.5" y="203.5825">формування запиту до Дата Фабрики</text><polygon fill="#383838" points="2583.5,277.0469,2593.5,281.0469,2583.5,285.0469,2587.5,281.0469" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="2156.5" x2="2589.5" y1="281.0469" y2="281.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="326" x="2163.5" y="245.7153">Отримання сутності з цифровими документами</text><ellipse cx="2169" cy="256.4141" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="2174.5" y="260.8481">X-Access-Token</text><ellipse cx="2169" cy="271.5469" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="250" x="2174.5" y="275.981">X-Source-Business-Process-Instance-Id</text><line style="stroke:#383838;stroke-width:1.0;" x1="2605.5" x2="2647.5" y1="325.3125" y2="325.3125"/><line style="stroke:#383838;stroke-width:1.0;" x1="2647.5" x2="2647.5" y1="325.3125" y2="338.3125"/><line style="stroke:#383838;stroke-width:1.0;" x1="2606.5" x2="2647.5" y1="338.3125" y2="338.3125"/><polygon fill="#383838" points="2616.5,334.3125,2606.5,338.3125,2616.5,342.3125,2612.5,338.3125" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140" x="2612.5" y="305.1138">Підготовка сутності</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="295" x="2612.5" y="320.2466">з UUID-ідентифікаторами Ceph-документів</text><polygon fill="#383838" points="2934.5,408.8438,2944.5,412.8438,2934.5,416.8438,2938.5,412.8438" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="2605.5" x2="2940.5" y1="412.8438" y2="412.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="238" x="2612.5" y="362.3794">Збереження цифрових документів</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="214" x="2612.5" y="377.5122">для подальшого використання</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="2612.5" y="392.645">в Low-code платформі</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="317" x="2612.5" y="407.7778">під ключами &lt;process/processInstanceId/UUID&gt;</text><polygon fill="#383838" points="2167.5,495.9414,2157.5,499.9414,2167.5,503.9414,2163.5,499.9414" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2161.5" x2="2599.5" y1="499.9414" y2="499.9414"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="365" x="2173.5" y="494.8755">JSON-документ з UUID-ідентифікаторами документів</text><path d="M1895,425.8438 L1895,556.8438 L2137,556.8438 L2137,435.8438 L2127,425.8438 L1895,425.8438 " fill="#EBEBEB" filter="url(#fh6s9grmgnwnh)" style="stroke:#383838;stroke-width:1.0;"/><path d="M2127,425.8438 L2127,435.8438 L2137,435.8438 L2127,425.8438 " fill="#EBEBEB" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1901" y="442.9106">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168" x="1909" y="458.0435">"&lt;file_property_name&gt;": [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1917" y="473.1763">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="1925" y="488.3091">"id": "{UUID}",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197" x="1925" y="503.4419">"checksum": "{SHA256-hash}"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1917" y="518.5747">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="1909" y="533.7075">]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1901" y="548.8403">}</text><line style="stroke:#383838;stroke-width:1.0;" x1="2156.5" x2="2198.5" y1="587.0391" y2="587.0391"/><line style="stroke:#383838;stroke-width:1.0;" x1="2198.5" x2="2198.5" y1="587.0391" y2="600.0391"/><line style="stroke:#383838;stroke-width:1.0;" x1="2157.5" x2="2198.5" y1="600.0391" y2="600.0391"/><polygon fill="#383838" points="2167.5,596.0391,2157.5,600.0391,2167.5,604.0391,2163.5,600.0391" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="425" x="2163.5" y="581.9731">Підготовка документу з даними для передзаповнення форми</text><polygon fill="#383838" points="3188,698.2695,3198,702.2695,3188,706.2695,3192,702.2695" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="2156.5" x2="3194" y1="702.2695" y2="702.2695"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="535" x="2163.5" y="697.2036">Збереження даних для UI-форми задачі з UUID-ідентифікаторами документів</text><path d="M3205,613.0391 L3205,774.0391 L3455,774.0391 L3455,623.0391 L3445,613.0391 L3205,613.0391 " fill="#EBEBEB" filter="url(#fh6s9grmgnwnh)" style="stroke:#383838;stroke-width:1.0;"/><path d="M3445,613.0391 L3445,623.0391 L3455,623.0391 L3445,613.0391 " fill="#EBEBEB" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="3211" y="630.106">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55" x="3219" y="645.2388">"data": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168" x="3227" y="660.3716">"&lt;file_property_name&gt;": [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="3235" y="675.5044">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="3243" y="690.6372">"id": "{UUID}",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197" x="3243" y="705.77">"checksum": "{SHA256-hash}"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="3235" y="720.9028">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="3227" y="736.0356">]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="3219" y="751.1685">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="3211" y="766.3013">}</text><polygon fill="#383838" points="2167.5,785.3672,2157.5,789.3672,2167.5,793.3672,2163.5,789.3672" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2161.5" x2="3199" y1="789.3672" y2="789.3672"/><line style="stroke:#383838;stroke-width:1.0;" x1="2156.5" x2="2198.5" y1="818.5" y2="818.5"/><line style="stroke:#383838;stroke-width:1.0;" x1="2198.5" x2="2198.5" y1="818.5" y2="831.5"/><line style="stroke:#383838;stroke-width:1.0;" x1="2157.5" x2="2198.5" y1="831.5" y2="831.5"/><polygon fill="#383838" points="2167.5,827.5,2157.5,831.5,2167.5,835.5,2163.5,831.5" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="277" x="2163.5" y="813.4341">Перехід до очікування виконання задачі</text><polygon fill="#383838" points="144.5,856.6328,134.5,860.6328,144.5,864.6328,140.5,860.6328" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="138.5" x2="2150.5" y1="860.6328" y2="860.6328"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="249" x="150.5" y="855.5669">Повернення управління користувачу</text><polygon fill="#383838" points="532.5,900.8984,542.5,904.8984,532.5,908.8984,536.5,904.8984" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="133.5" x2="538.5" y1="904.8984" y2="904.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199" x="140.5" y="884.6997">Перехід до виконання задачі</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212" x="140.5" y="899.8325">перегляду файлових вкладень</text><polygon fill="#383838" points="1053.5,960.2969,1063.5,964.2969,1053.5,968.2969,1057.5,964.2969" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="554.5" x2="1059.5" y1="964.2969" y2="964.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="342" x="561.5" y="928.9653">Запит на отримання даних задачі: GET "/task/{id}"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="561.5" y="944.0981">Параметри:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="561.5" y="959.231">Ідентифікатор сесії Kong</text><polygon fill="#383838" points="1428.5,1019.6953,1438.5,1023.6953,1428.5,1027.6953,1432.5,1023.6953" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="1075.5" x2="1434.5" y1="1023.6953" y2="1023.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="342" x="1082.5" y="988.3638">Запит на отримання даних задачі: GET "/task/{id}"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="1082.5" y="1003.4966">Параметри:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="1082.5" y="1018.6294">X-Access-Token</text><line style="stroke:#383838;stroke-width:1.0;" x1="1450.5" x2="1492.5" y1="1067.9609" y2="1067.9609"/><line style="stroke:#383838;stroke-width:1.0;" x1="1492.5" x2="1492.5" y1="1067.9609" y2="1080.9609"/><line style="stroke:#383838;stroke-width:1.0;" x1="1451.5" x2="1492.5" y1="1080.9609" y2="1080.9609"/><polygon fill="#383838" points="1461.5,1076.9609,1451.5,1080.9609,1461.5,1084.9609,1457.5,1080.9609" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="275" x="1457.5" y="1047.7622">Перевірка відповідності Assignee задачі</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163" x="1461.5" y="1062.895">поточному користувачу</text><line style="stroke:#383838;stroke-width:1.0;" x1="1450.5" x2="1492.5" y1="1140.3594" y2="1140.3594"/><line style="stroke:#383838;stroke-width:1.0;" x1="1492.5" x2="1492.5" y1="1140.3594" y2="1153.3594"/><line style="stroke:#383838;stroke-width:1.0;" x1="1451.5" x2="1492.5" y1="1153.3594" y2="1153.3594"/><polygon fill="#383838" points="1461.5,1149.3594,1451.5,1153.3594,1461.5,1157.3594,1457.5,1153.3594" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="297" x="1457.5" y="1105.0278">Генерація ідентифікатора Ceph-документа</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="253" x="1457.5" y="1120.1606">для отримання підготовлених даних</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="243" x="1457.5" y="1135.2935">(processInstanceId, taskDefinitionKey)</text><polygon fill="#383838" points="3188,1178.4922,3198,1182.4922,3188,1186.4922,3192,1182.4922" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="1450.5" x2="3194" y1="1182.4922" y2="1182.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="342" x="1457.5" y="1177.4263">Читання JSON-документа даних форми за ключем</text><polygon fill="#383838" points="1461.5,1280.7227,1451.5,1284.7227,1461.5,1288.7227,1457.5,1284.7227" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1455.5" x2="3199" y1="1284.7227" y2="1284.7227"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="455" x="1467.5" y="1279.6567">Підготовлений JSON-документ UI-форми з UUID-ідентифікаторами</text><path d="M1181,1195.4922 L1181,1356.4922 L1431,1356.4922 L1431,1205.4922 L1421,1195.4922 L1181,1195.4922 " fill="#EBEBEB" filter="url(#fh6s9grmgnwnh)" style="stroke:#383838;stroke-width:1.0;"/><path d="M1421,1195.4922 L1421,1205.4922 L1431,1205.4922 L1421,1195.4922 " fill="#EBEBEB" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1187" y="1212.5591">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55" x="1195" y="1227.6919">"data": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168" x="1203" y="1242.8247">"&lt;file_property_name&gt;": [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1211" y="1257.9575">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="1219" y="1273.0903">"id": "{UUID}",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197" x="1219" y="1288.2231">"checksum": "{SHA256-hash}"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1211" y="1303.356">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="1203" y="1318.4888">]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1195" y="1333.6216">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1187" y="1348.7544">}</text><line style="stroke:#383838;stroke-width:1.0;" x1="1450.5" x2="1492.5" y1="1402.0859" y2="1402.0859"/><line style="stroke:#383838;stroke-width:1.0;" x1="1492.5" x2="1492.5" y1="1402.0859" y2="1415.0859"/><line style="stroke:#383838;stroke-width:1.0;" x1="1451.5" x2="1492.5" y1="1415.0859" y2="1415.0859"/><polygon fill="#383838" points="1461.5,1411.0859,1451.5,1415.0859,1461.5,1419.0859,1457.5,1415.0859" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="265" x="1457.5" y="1381.8872">Формування агрегованих даних задачі</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="373" x="1457.5" y="1397.02">з підготовленими даними для відображення UI-форми</text><polygon fill="#383838" points="565.5,1513.3164,555.5,1517.3164,565.5,1521.3164,561.5,1517.3164" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="559.5" x2="1444.5" y1="1517.3164" y2="1517.3164"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174" x="571.5" y="1512.2505">Повернення даних задачі</text><path d="M285,1428.0859 L285,1589.0859 L535,1589.0859 L535,1438.0859 L525,1428.0859 L285,1428.0859 " fill="#EBEBEB" filter="url(#fh6s9grmgnwnh)" style="stroke:#383838;stroke-width:1.0;"/><path d="M525,1428.0859 L525,1438.0859 L535,1438.0859 L525,1428.0859 " fill="#EBEBEB" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="291" y="1445.1528">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55" x="299" y="1460.2856">"data": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168" x="307" y="1475.4185">"&lt;file_property_name&gt;": [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="315" y="1490.5513">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="323" y="1505.6841">"id": "{UUID}",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197" x="323" y="1520.8169">"checksum": "{SHA256-hash}"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="315" y="1535.9497">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="307" y="1551.0825">]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="299" y="1566.2153">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="291" y="1581.3481">}</text><polygon fill="#383838" points="1053.5,1645.8125,1063.5,1649.8125,1053.5,1653.8125,1057.5,1649.8125" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="554.5" x2="1059.5" y1="1649.8125" y2="1649.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="278" x="561.5" y="1614.481">Запит на отримання мета-даних файлів:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="488" x="561.5" y="1629.6138">POST "/documents/{processInstanceId}/{taskId}/search" ([{id, fieldName}])</text><ellipse cx="567" cy="1640.3125" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="572.5" y="1644.7466">Ідентифікатор сесії Kong</text><polygon fill="#383838" points="1861.5,1690.0781,1871.5,1694.0781,1861.5,1698.0781,1865.5,1694.0781" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="1075.5" x2="1867.5" y1="1694.0781" y2="1694.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="770" x="1082.5" y="1673.8794">Запит на отримання мета-даних файлів: POST "/documents/{processInstanceId}/{taskId}/search" ([{id, fieldName}])</text><ellipse cx="1088" cy="1684.5781" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="1093.5" y="1689.0122">X-Access-Token</text><polygon fill="#383838" points="1086.5,1719.2109,1076.5,1723.2109,1086.5,1727.2109,1082.5,1723.2109" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1080.5" x2="1872.5" y1="1723.2109" y2="1723.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="1092.5" y="1718.145">Мета-дані документів</text><polygon fill="#383838" points="565.5,1821.4414,555.5,1825.4414,565.5,1829.4414,561.5,1825.4414" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="559.5" x2="1069.5" y1="1825.4414" y2="1825.4414"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="571.5" y="1820.3755">Мета-дані документів</text><path d="M5,1736.2109 L5,1897.2109 L536,1897.2109 L536,1746.2109 L526,1736.2109 L5,1736.2109 " fill="#EBEBEB" filter="url(#fh6s9grmgnwnh)" style="stroke:#383838;stroke-width:1.0;"/><path d="M526,1736.2109 L526,1746.2109 L536,1746.2109 L526,1736.2109 " fill="#EBEBEB" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="11" y="1753.2778">[</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="19" y="1768.4106">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="35" y="1783.5435">"id": "{UUID}",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140" x="35" y="1798.6763">"name": "{filename}",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="35" y="1813.8091">"type:": "{mime-type}",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="35" y="1828.9419">"size": 1000,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="35" y="1844.0747">"checksum": "{sha256-hash}",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="486" x="35" y="1859.2075">"url": "https://.../documents/{processInstanceId}/{taskId}/{fieldName}/{id}"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="19" y="1874.3403">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="11" y="1889.4731">]</text><line style="stroke:#383838;stroke-width:1.0;" x1="554.5" x2="596.5" y1="1986.7031" y2="1986.7031"/><line style="stroke:#383838;stroke-width:1.0;" x1="596.5" x2="596.5" y1="1986.7031" y2="1999.7031"/><line style="stroke:#383838;stroke-width:1.0;" x1="555.5" x2="596.5" y1="1999.7031" y2="1999.7031"/><polygon fill="#383838" points="565.5,1995.7031,555.5,1999.7031,565.5,2003.7031,561.5,1999.7031" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="420" x="561.5" y="1966.5044">Приведення значень полів типу "File" до канонічного вигляду</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="295" x="561.5" y="1981.6372">для використання у клієнтському додатку</text><path d="M12,1911.5391 L12,2042.5391 L535,2042.5391 L535,1921.5391 L525,1911.5391 L12,1911.5391 " fill="#EBEBEB" filter="url(#fh6s9grmgnwnh)" style="stroke:#383838;stroke-width:1.0;"/><path d="M525,1911.5391 L525,1921.5391 L535,1921.5391 L525,1911.5391 " fill="#EBEBEB" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="18" y="1928.606">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="34" y="1943.7388">"id": "{UUID}",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140" x="34" y="1958.8716">"name": "{filename}",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="34" y="1974.0044">"type:": "{mime-type}",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="34" y="1989.1372">"size": 1000,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="34" y="2004.27">"checksum": "{sha256-hash}",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="486" x="34" y="2019.4028">"url": "https://.../documents/{processInstanceId}/{taskId}/{fieldName}/{id}"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="18" y="2034.5356">}</text><polygon fill="#383838" points="144.5,2053.6016,134.5,2057.6016,144.5,2061.6016,140.5,2057.6016" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="138.5" x2="548.5" y1="2057.6016" y2="2057.6016"/><polygon fill="#383838" points="532.5,2082.7344,542.5,2086.7344,532.5,2090.7344,536.5,2086.7344" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="133.5" x2="538.5" y1="2086.7344" y2="2086.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="392" x="140.5" y="2081.6685">Вивантажити файлове вкладення через UI-форму задачі</text><polygon fill="#383838" points="1053.5,2142.1328,1063.5,2146.1328,1053.5,2150.1328,1057.5,2146.1328" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="554.5" x2="1059.5" y1="2146.1328" y2="2146.1328"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="250" x="561.5" y="2110.8013">Запит на вивантаження документа:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="481" x="561.5" y="2125.9341">GET "https://.../documents/{processInstanceId}/{taskId}/{fieldName}/{id}"</text><ellipse cx="567" cy="2136.6328" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="572.5" y="2141.0669">Ідентифікатор сесії Kong</text><polygon fill="#383838" points="1861.5,2186.3984,1871.5,2190.3984,1861.5,2194.3984,1865.5,2190.3984" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="1075.5" x2="1867.5" y1="2190.3984" y2="2190.3984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="735" x="1082.5" y="2170.1997">Запит на вивантаження документа: GET "https://.../documents/{processInstanceId}/{taskId}/{fieldName}/{id}"</text><ellipse cx="1088" cy="2180.8984" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="1093.5" y="2185.3325">X-Access-Token</text><polygon fill="#383838" points="2934.5,2260.9297,2944.5,2264.9297,2934.5,2268.9297,2938.5,2264.9297" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="1873.5" x2="2940.5" y1="2264.9297" y2="2264.9297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="233" x="1880.5" y="2214.4653">Отримання цифрового документу</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="214" x="1880.5" y="2229.5981">для подальшого використання</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="1880.5" y="2244.731">в Low-code платформі</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="317" x="1880.5" y="2259.8638">під ключами &lt;process/processInstanceId/UUID&gt;</text><polygon fill="#383838" points="1884.5,2290.0625,1874.5,2294.0625,1884.5,2298.0625,1880.5,2294.0625" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1878.5" x2="2945.5" y1="2294.0625" y2="2294.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="1890.5" y="2288.9966">Ceph-об'єкт</text><line style="stroke:#383838;stroke-width:1.0;" x1="1873.5" x2="1915.5" y1="2323.1953" y2="2323.1953"/><line style="stroke:#383838;stroke-width:1.0;" x1="1915.5" x2="1915.5" y1="2323.1953" y2="2336.1953"/><line style="stroke:#383838;stroke-width:1.0;" x1="1874.5" x2="1915.5" y1="2336.1953" y2="2336.1953"/><polygon fill="#383838" points="1884.5,2332.1953,1874.5,2336.1953,1884.5,2340.1953,1880.5,2336.1953" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="264" x="1880.5" y="2318.1294">Формування файлу для вивантаження</text><polygon fill="#383838" points="1086.5,2361.3281,1076.5,2365.3281,1086.5,2369.3281,1082.5,2365.3281" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1080.5" x2="1872.5" y1="2365.3281" y2="2365.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="1092.5" y="2360.2622">Файл</text><polygon fill="#383838" points="565.5,2390.4609,555.5,2394.4609,565.5,2398.4609,561.5,2394.4609" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="559.5" x2="1069.5" y1="2394.4609" y2="2394.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="571.5" y="2389.395">Файл</text><polygon fill="#383838" points="144.5,2419.5938,134.5,2423.5938,144.5,2427.5938,140.5,2423.5938" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="138.5" x2="548.5" y1="2423.5938" y2="2423.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="150.5" y="2418.5278">Файл</text><!--MD5=[a9a9017a28949fdbe25cd76b31dff785]
@startuml
skinparam monochrome true

actor "Користувач" as user
participant "Клієнтський додаток\n кабінету користувача" as cabinet
participant "Kong \nAPI Management" as kong
participant "Сервіс управління \n задачами користувача" as user_task_mngmnt
participant "Сервіс \nцифрових документів" as digital_documents
participant "Сервіс виконання \nбізнес-процесів" as bpms
participant "Дата Фабрика" as data_factory
participant "Об'єктне сховище Ceph \n(бакет: lowcode-file-storage)" as file_storage_ceph
participant "Об'єктне сховище Ceph \n(бакет: lowcode-form-data-storage)" as form_data_ceph

skinparam responseMessageBelowArrow false
title Вивантаження та перегляд файлів в рамках виконання задач користувачів

activate bpms
  note over bpms, data_factory: Бізнес-процес у виконанні
  bpms -> bpms: Підготовка даних для \nформування запиту до Дата Фабрики
  bpms -> data_factory: Отримання сутності з цифровими документами \n* X-Access-Token \n* X-Source-Business-Process-Instance-Id
  activate data_factory
    data_factory -> data_factory: Підготовка сутності \nз UUID-ідентифікаторами Ceph-документів
    data_factory -> file_storage_ceph: Збереження цифрових документів \nдля подальшого використання \nв Low-code платформі \nпід ключами <process/processInstanceId/UUID>
  return JSON-документ з UUID-ідентифікаторами документів

  note left
    {
      "<file_property_name>": [
        {
          "id": "{UUID}",
          "checksum": "{SHA256-hash}"
        }
      ]
    }
  end note
  bpms -> bpms: Підготовка документу з даними для передзаповнення форми

  bpms -> form_data_ceph: Збереження даних для UI-форми задачі з UUID-ідентифікаторами документів
  note right
    {
      "data": {
        "<file_property_name>": [
          {
            "id": "{UUID}",
            "checksum": "{SHA256-hash}"
          }
        ]
      }
    }
  end note

  form_data_ceph - -> bpms
  bpms -> bpms: Перехід до очікування виконання задачі
  bpms - -> user: Повернення управління користувачу
deactivate bpms

user -> cabinet: Перехід до виконання задачі \nперегляду файлових вкладень
activate cabinet
  cabinet -> kong: Запит на отримання даних задачі: GET "/task/{id}" \nПараметри: \nІдентифікатор сесії Kong
  activate kong
    kong -> user_task_mngmnt: Запит на отримання даних задачі: GET "/task/{id}" \nПараметри: \nX-Access-Token
    activate user_task_mngmnt
      user_task_mngmnt -> user_task_mngmnt: Перевірка відповідності Assignee задачі\n поточному користувачу
      user_task_mngmnt -> user_task_mngmnt: Генерація ідентифікатора Ceph-документа \nдля отримання підготовлених даних \n(processInstanceId, taskDefinitionKey)
      user_task_mngmnt -> form_data_ceph: Читання JSON-документа даних форми за ключем
      form_data_ceph - -> user_task_mngmnt: Підготовлений JSON-документ UI-форми з UUID-ідентифікаторами
      note left
        {
          "data": {
            "<file_property_name>": [
              {
                "id": "{UUID}",
                "checksum": "{SHA256-hash}"
              }
            ]
          }
        }
      end note

      user_task_mngmnt -> user_task_mngmnt: Формування агрегованих даних задачі \nз підготовленими даними для відображення UI-форми
      user_task_mngmnt - -> cabinet: Повернення даних задачі
      note left
        {
          "data": {
            "<file_property_name>": [
              {
                "id": "{UUID}",
                "checksum": "{SHA256-hash}"
              }
            ]
          }
        }
      end note
    deactivate
  deactivate
  cabinet -> kong: Запит на отримання мета-даних файлів: \nPOST "/documents/{processInstanceId}/{taskId}/search" ([{id, fieldName}]) \n* Ідентифікатор сесії Kong
  activate kong
    kong -> digital_documents: Запит на отримання мета-даних файлів: POST "/documents/{processInstanceId}/{taskId}/search" ([{id, fieldName}]) \n*X-Access-Token
    digital_documents - -> kong: Мета-дані документів
    kong -> cabinet: Мета-дані документів
  deactivate kong
  note left
    [
      {
          "id": "{UUID}",
          "name": "{filename}",
          "type:": "{mime-type}",
          "size": 1000,
          "checksum": "{sha256-hash}",
          "url": "https://.../documents/{processInstanceId}/{taskId}/{fieldName}/{id}"
      }
    ]
  end note

  cabinet -> cabinet: Приведення значень полів типу "File" до канонічного вигляду \nдля використання у клієнтському додатку
  note left
      {
          "id": "{UUID}",
          "name": "{filename}",
          "type:": "{mime-type}",
          "size": 1000,
          "checksum": "{sha256-hash}",
          "url": "https://.../documents/{processInstanceId}/{taskId}/{fieldName}/{id}"
      }
  end note
return

user -> cabinet: Вивантажити файлове вкладення через UI-форму задачі
activate cabinet
  cabinet -> kong: Запит на вивантаження документа: \nGET "https://.../documents/{processInstanceId}/{taskId}/{fieldName}/{id}" \n* Ідентифікатор сесії Kong
  activate kong
    kong -> digital_documents: Запит на вивантаження документа: GET "https://.../documents/{processInstanceId}/{taskId}/{fieldName}/{id}" \n*X-Access-Token
    digital_documents -> file_storage_ceph: Отримання цифрового документу \nдля подальшого використання \nв Low-code платформі \nпід ключами <process/processInstanceId/UUID>
    file_storage_ceph - -> digital_documents: Ceph-об'єкт
    digital_documents -> digital_documents: Формування файлу для вивантаження
    digital_documents - -> kong: Файл
    kong - -> cabinet: Файл
  deactivate kong
  cabinet - -> user: Файл
deactivate cabinet
@enduml

PlantUML version 1.2021.7(Sun May 23 12:40:07 UTC 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>