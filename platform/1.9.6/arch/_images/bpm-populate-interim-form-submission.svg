<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="734px" preserveAspectRatio="none" style="width:1188px;height:734px;background:#FFFFFF;" version="1.1" viewBox="0 0 1188 734" width="1188px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="506.1875" style="stroke:#2688D4;stroke-width:1.0;" width="10" x="87.5" y="109.8906"/><rect fill="#FFFFFF" height="454.7891" style="stroke:#2688D4;stroke-width:1.0;" width="10" x="386.5" y="161.2891"/><rect fill="#FFFFFF" height="410.5234" style="stroke:#2688D4;stroke-width:1.0;" width="10" x="672.5" y="205.5547"/><line style="stroke:#2688D4;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="92" x2="92" y1="99.8906" y2="634.0781"/><line style="stroke:#2688D4;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="391.5" x2="391.5" y1="99.8906" y2="634.0781"/><line style="stroke:#2688D4;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="677" x2="677" y1="99.8906" y2="634.0781"/><line style="stroke:#2688D4;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="918.5" x2="918.5" y1="99.8906" y2="634.0781"/><line style="stroke:#2688D4;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1094.5" x2="1094.5" y1="99.8906" y2="634.0781"/><rect fill="#FFFFFF" height="46.5938" style="stroke:#2688D4;stroke-width:1.5;" width="175" x="5" y="52.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157" x="14" y="72.292">Клієнтський додаток</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157" x="16" y="88.5889">кабінету користувача</text><rect fill="#FFFFFF" height="46.5938" style="stroke:#2688D4;stroke-width:1.5;" width="175" x="5" y="633.0781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157" x="14" y="653.0732">Клієнтський додаток</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157" x="16" y="669.3701">кабінету користувача</text><rect fill="#FFFFFF" height="46.5938" style="stroke:#2688D4;stroke-width:1.5;" width="130" x="326.5" y="52.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="371.5" y="72.292">Kong</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="333.5" y="88.5889">API Management</text><rect fill="#FFFFFF" height="46.5938" style="stroke:#2688D4;stroke-width:1.5;" width="130" x="326.5" y="633.0781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="371.5" y="653.0732">Kong</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="333.5" y="669.3701">API Management</text><rect fill="#FFFFFF" height="46.5938" style="stroke:#2688D4;stroke-width:1.5;" width="181" x="587" y="52.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="610.5" y="72.292">Сервіс управління</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="167" x="594" y="88.5889">задачами користувачів</text><rect fill="#FFFFFF" height="46.5938" style="stroke:#2688D4;stroke-width:1.5;" width="181" x="587" y="633.0781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="610.5" y="653.0732">Сервіс управління</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="167" x="594" y="669.3701">задачами користувачів</text><rect fill="#FFFFFF" height="46.5938" style="stroke:#2688D4;stroke-width:1.5;" width="146" x="845.5" y="52.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="852.5" y="72.292">Сервіс виконання</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="860.5" y="88.5889">бізнес-процесів</text><rect fill="#FFFFFF" height="46.5938" style="stroke:#2688D4;stroke-width:1.5;" width="146" x="845.5" y="633.0781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="852.5" y="653.0732">Сервіс виконання</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="860.5" y="669.3701">бізнес-процесів</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="1072" y="63.9951">Redis</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141" x="1019" y="80.292">in-memory сховище</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="180" x="1001.5" y="96.5889">(bpm-form-submissions.*)</text><path d="M1076.5,15 C1076.5,5 1094.5,5 1094.5,5 C1094.5,5 1112.5,5 1112.5,15 L1112.5,41 C1112.5,51 1094.5,51 1094.5,51 C1094.5,51 1076.5,51 1076.5,41 L1076.5,15 " fill="#FFFFFF" style="stroke:#2688D4;stroke-width:1.5;"/><path d="M1076.5,15 C1076.5,25 1094.5,25 1094.5,25 C1094.5,25 1112.5,25 1112.5,15 " fill="none" style="stroke:#2688D4;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="1072" y="646.0732">Redis</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141" x="1019" y="662.3701">in-memory сховище</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="180" x="1001.5" y="678.667">(bpm-form-submissions.*)</text><path d="M1076.5,691.9688 C1076.5,681.9688 1094.5,681.9688 1094.5,681.9688 C1094.5,681.9688 1112.5,681.9688 1112.5,691.9688 L1112.5,717.9688 C1112.5,727.9688 1094.5,727.9688 1094.5,727.9688 C1094.5,727.9688 1076.5,727.9688 1076.5,717.9688 L1076.5,691.9688 " fill="#FFFFFF" style="stroke:#2688D4;stroke-width:1.5;"/><path d="M1076.5,691.9688 C1076.5,701.9688 1094.5,701.9688 1094.5,701.9688 C1094.5,701.9688 1112.5,701.9688 1112.5,691.9688 " fill="none" style="stroke:#2688D4;stroke-width:1.5;"/><rect fill="#FFFFFF" height="506.1875" style="stroke:#2688D4;stroke-width:1.0;" width="10" x="87.5" y="109.8906"/><rect fill="#FFFFFF" height="454.7891" style="stroke:#2688D4;stroke-width:1.0;" width="10" x="386.5" y="161.2891"/><rect fill="#FFFFFF" height="410.5234" style="stroke:#2688D4;stroke-width:1.0;" width="10" x="672.5" y="205.5547"/><polygon fill="#2688D4" points="374.5,157.2891,384.5,161.2891,374.5,165.2891,378.5,161.2891" style="stroke:#2688D4;stroke-width:1.0;"/><line style="stroke:#2688D4;stroke-width:1.0;" x1="97.5" x2="380.5" y1="161.2891" y2="161.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160" x="104.5" y="125.9575">Отримання мета-даних</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="266" x="104.5" y="141.0903">та збережених даних UI-форми задачі:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="104.5" y="156.2231">GET /api/task/{id}</text><polygon fill="#2688D4" points="660.5,201.5547,670.5,205.5547,660.5,209.5547,664.5,205.5547" style="stroke:#2688D4;stroke-width:1.0;"/><line style="stroke:#2688D4;stroke-width:1.0;" x1="396.5" x2="666.5" y1="205.5547" y2="205.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="403.5" y="185.356">GET /api/task/{id}</text><ellipse cx="409" cy="196.0547" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="414.5" y="200.4888">X-Access-Token</text><polygon fill="#2688D4" points="906.5,245.8203,916.5,249.8203,906.5,253.8203,910.5,249.8203" style="stroke:#2688D4;stroke-width:1.0;"/><line style="stroke:#2688D4;stroke-width:1.0;" x1="682.5" x2="912.5" y1="249.8203" y2="249.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208" x="689.5" y="229.6216">Отримання мета-даних задачі</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60" x="689.5" y="244.7544">&lt;taskId&gt;</text><polygon fill="#2688D4" points="693.5,323.3516,683.5,327.3516,693.5,331.3516,689.5,327.3516" style="stroke:#2688D4;stroke-width:1.0;"/><line style="stroke:#2688D4;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="687.5" x2="917.5" y1="327.3516" y2="327.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140" x="699.5" y="322.2856">Мета-дані задачі БП</text><path d="M496,262.8203 L496,377.8203 L667,377.8203 L667,272.8203 L657,262.8203 L496,262.8203 " fill="#FFFFFF" style="stroke:#2688D4;stroke-width:1.0;"/><path d="M657,262.8203 L657,272.8203 L667,272.8203 L657,262.8203 " fill="#FFFFFF" style="stroke:#2688D4;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="502" y="279.8872">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43" x="510" y="295.02">"id": "",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="510" y="310.1528">"taskDefinitionKey": "",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85" x="510" y="325.2856">"formKey": "",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69" x="510" y="340.4185">"name": "",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85" x="510" y="355.5513">"assignee": ""</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="502" y="370.6841">}</text><polygon fill="#2688D4" points="1082.5,416.0156,1092.5,420.0156,1082.5,424.0156,1086.5,420.0156" style="stroke:#2688D4;stroke-width:1.0;"/><line style="stroke:#2688D4;stroke-width:1.0;" x1="682.5" x2="1088.5" y1="420.0156" y2="420.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="321" x="689.5" y="399.8169">Отримання збережених даних UI-форми задачі</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="255" x="689.5" y="414.9497">&lt;processInstanceId, taskDefinitionKey&gt;</text><polygon fill="#2688D4" points="693.5,478.4141,683.5,482.4141,693.5,486.4141,689.5,482.4141" style="stroke:#2688D4;stroke-width:1.0;"/><line style="stroke:#2688D4;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="687.5" x2="1093.5" y1="482.4141" y2="482.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="257" x="699.5" y="477.3481">Дані, внесені при виконанні задачі БП</text><path d="M583,433.0156 L583,518.0156 L667,518.0156 L667,443.0156 L657,433.0156 L583,433.0156 " fill="#FFFFFF" style="stroke:#2688D4;stroke-width:1.0;"/><path d="M657,433.0156 L657,443.0156 L667,443.0156 L657,433.0156 " fill="#FFFFFF" style="stroke:#2688D4;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="589" y="450.0825">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55" x="597" y="465.2153">"data": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="12" x="605" y="480.3481">...</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="597" y="495.481">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="589" y="510.6138">}</text><line style="stroke:#2688D4;stroke-width:1.0;" x1="682.5" x2="724.5" y1="544.8125" y2="544.8125"/><line style="stroke:#2688D4;stroke-width:1.0;" x1="724.5" x2="724.5" y1="544.8125" y2="557.8125"/><line style="stroke:#2688D4;stroke-width:1.0;" x1="683.5" x2="724.5" y1="557.8125" y2="557.8125"/><polygon fill="#2688D4" points="693.5,553.8125,683.5,557.8125,693.5,561.8125,689.5,557.8125" style="stroke:#2688D4;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166" x="689.5" y="539.7466">Формування результату</text><polygon fill="#2688D4" points="407.5,582.9453,397.5,586.9453,407.5,590.9453,403.5,586.9453" style="stroke:#2688D4;stroke-width:1.0;"/><line style="stroke:#2688D4;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="401.5" x2="671.5" y1="586.9453" y2="586.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="252" x="413.5" y="581.8794">200: Мета-дані та дані форми задачі</text><polygon fill="#2688D4" points="103.5,612.0781,93.5,616.0781,103.5,620.0781,99.5,616.0781" style="stroke:#2688D4;stroke-width:1.0;"/><line style="stroke:#2688D4;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="97.5" x2="390.5" y1="616.0781" y2="616.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="257" x="109.5" y="611.0122">200 - Мета-дані та дані форми задачі</text><!--MD5=[5403a3b6be1ff3b1bbf467cb9bc72ef3]
@startuml
skinparam shadowing false
skinparam DatabaseBackgroundColor white
skinparam DatabaseBorderColor #2688d4
skinparam QueueBackgroundColor white
skinparam QueueBorderColor #2688d4
skinparam NoteBackgroundColor white
skinparam NoteBorderColor #2688d4
skinparam sequence {
    ArrowColor #2688d4
    ActorBorderColor #2688d4
    LifeLineBorderColor #2688d4
    ParticipantBorderColor #2688d4
    ParticipantBackgroundColor white
    BoxBorderColor #2688d4
    BoxBackgroundColor white
}

participant "Клієнтський додаток\n кабінету користувача" as portal
participant "Kong \nAPI Management" as kong
participant "Сервіс управління \nзадачами користувачів" as user_task_management
participant "Сервіс виконання \nбізнес-процесів" as bpms
database "Redis\nin-memory сховище \n(bpm-form-submissions.*)" as redis

activate portal
  portal -> kong: Отримання мета-даних \nта збережених даних UI-форми задачі: \nGET /api/task/{id}
  activate kong
    kong -> user_task_management: GET /api/task/{id} \n*X-Access-Token
      activate user_task_management
        user_task_management -> bpms: Отримання мета-даних задачі \n<taskId>
        bpms - -> user_task_management: Мета-дані задачі БП
        note left
          {
            "id": "",
            "taskDefinitionKey": "",
            "formKey": "",
            "name": "",
            "assignee": ""
          }
        end note
        user_task_management -> redis: Отримання збережених даних UI-форми задачі\n<processInstanceId, taskDefinitionKey>
        redis - -> user_task_management: Дані, внесені при виконанні задачі БП
        note left
          {
            "data": {
              ...
            }
          }
        end note
        user_task_management -> user_task_management: Формування результату
        user_task_management - -> kong: 200: Мета-дані та дані форми задачі
        kong - -> portal: 200 - Мета-дані та дані форми задачі
      deactivate user_task_management
  deactivate kong
deactivate portal
@enduml

PlantUML version 1.2021.7(Sun May 23 12:40:07 UTC 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>